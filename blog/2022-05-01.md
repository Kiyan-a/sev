---
slug: first-blog-post
title: JavaScript的🐔🌉
authors:
  name: Kiyan-a
  title: 唔洗讲ye，哈哈哈哈哈！
  url: https://github.com/Kiyan-a
  image_url: https://avatars.githubusercontent.com/u/86712674?v=4
tags: [代码可读性, 代码优化]
---

### 对象数组转对象

```js
this.modes=columns.reduce((total,{prop})=>{
    return {...total,prop}
}.{})

or...

this.modes=columns.reduce((total,{prop})=>{
    return Object.assign(total,prop)
}.{})

```

### getBoundingClientRect

**`Element.getBoundingClientRect()`** 方法返回元素的大小及其相对于视口的位置

通过这个 API 去动态设置元素的布局( **避免元素高度宽度的局限性** )

- left（元素左侧相对于可视区左上角的距离）

- right（元素右侧相对于可视区左上角的距离）

- top（元素上边相对于可视区左上角的距离）

- bottom（元素下边相对于可视区左上角的距离）

- width（可视宽度）

- height（可视高度）

### 移除对象属性/获取对象部分属性 过滤对象属性

```js
移除 x,y
const obj = { x:1,y:2,z:3,o:4,i:5 }
let { x,y,...newObj } = obj
```

### 变量数据兜底（知根知底）

```js
😐
const { data } = getApiRequest();
data.map(item=>item.id);

😁 变量解构赋初始值
const { data=[] } = getApiRequest();
data.map(item=>item.id);
```

### 多值匹配，将所有值放在数组中，通过数组方法来简写

```js
😐
if (value === 1 || value === 'one' || value === 2 || value === 'two') {
  // ...
}

😁 includes 方法去简化
if ([1, 'one', 2, 'two'].includes(value)) {
    // ...
}
```

### 字符串转数字（简化）

```js
😐
let total = parseInt('453');
let average = Number('42.6');

😁
let total = +'453';
let average = +'42.6';
```

### （~~）运算符代替 Math.floor()

```
😐
const floor = Math.floor(6.8);

😁
const floor = ~~6.8;
```

### 单层对象深拷贝

```js
let obj = { x: 1, y: 2, z: 3 };
const clone = { ...obj };
```

### 使用 arr.filter(Boolean) 过滤掉数组成员的虚假值

```js
null, '', NaN, undefined, false;
let arr = [12, null, 0, 'xyz', null, -25, NaN, '', undefined, 0.5, false];
let ARR = arr.filter(Boolean);
```

### 三元运算符 or || or &&简化 if else

```js
😐
let data;
let path = getList();
if (path !== null && path !== undefined && path !== '') {
    data = path;
} else {
    data = {};
}

😁
let data = getList() || {};
let data = path ? getList() : {};
let data = path && getList();

其它：🐂
getTabList()  getFormList()
(path ? getTabList : getFormList)()
```

### 使用函数式编程

```js
😐
const List = [
  	{
      name: 'AM',
      money: 30000,
    },{
      name: 'SF',
      money: 24000
    }
]
let total = 0;

for (let i = 0; i < xList.length; i++) {
  total += List[i].money;
}

😁
let total = List
  .map(hero => hero.money)
  .reduce((moneys, money) => moneys + money, 0)
```

### 提前 return 使代码更加简洁

对于不是主要核心代码 or 条件没有满足情况下，尽量提前 return

### 减少 if else 语句

### 通过**find**()函数进行数组筛选符合条件的 -> 第一个值

```js
const users = [
  { name: '张三', age: 30 },
  { name: '李四', age: 35 },
  { name: '王5', age: 12 },
];

const found = users.find(user => user.age > 20); // {name:'张三', age:30}
```

### 通过**some**()判断数组中是否有元素满足次条件，**every**()判断是否都满足，返回值为 布尔值

```js
users.some(user => user.age < 20); // true

users.every(user => user.age < 20); // false
```

### `??`运算

`??`运算符只有前面的值是`undefined` or `null`才会执行

### `?.`运算符

`?.`运算符只有在当值(前面的值)不是`undefined`时才会执行

```js
let person = {};
console.log(person.name.toString()); // 报错
console.log(person.name?.toString()); // undefined
```

### `!!`运算符将任意值强制转换为其对应的布尔值

一次 ！转反布尔值，两次 ！ 就厉害了，将反布尔值转回来 🐂
