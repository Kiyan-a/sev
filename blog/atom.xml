<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://kiyan-a.github.io/sev/blog</id>
    <title>------🚀 Blog</title>
    <updated>2022-05-04T02:45:15.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://kiyan-a.github.io/sev/blog"/>
    <subtitle>------🚀 Blog</subtitle>
    <icon>https://kiyan-a.github.io/sev/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Node.JS]]></title>
        <id>/Node.JS</id>
        <link href="https://kiyan-a.github.io/sev/blog/Node.JS"/>
        <updated>2022-05-04T02:45:15.000Z</updated>
        <summary type="html"><![CDATA[Node.js  是一个能够在服务端运行的 Javascript 运行环境，Node 大部分基本模块都用 Javascript 编写。运行在 Node.jS 中的 JS 的用途是操作磁盘文件或搭建HTTP服务器，NodeJS就相应提供了fs、http等内置对象。]]></summary>
        <content type="html"><![CDATA[<p>Node.js  是一个能够<strong>在服务端运行</strong>的 <strong>Javascript 运行环境</strong>，Node 大部分基本模块都用 Javascript 编写。运行在 Node.jS 中的 JS 的用途是<strong>操作磁盘文件</strong>或<strong>搭建HTTP服务器</strong>，NodeJS就相应提供了<code>fs</code>、<code>http</code>等内置对象。</p><p><strong>NodeJs 高性能 Web 服务器、JS、单线程、异步、V8引擎、硬件要求低</strong></p><p><em>V8引擎，目前速度最快的 JS引擎</em></p><p>🚕<em>奇数为测试版、偶数为稳定版</em></p><p>可以做什么???</p><ul><li>Web 服务器后台</li><li>命令行工具<ol><li>npm</li><li>git</li><li>hexo</li><li>......</li></ol></li><li>第三方模块( 自己写的少,主要使用别人开发的第三方库 )<ol><li>webpack</li><li>npm</li><li>gulp</li></ol></li></ul><p>🥞<strong>在 Node 中有一个全局对象 (global)，与浏览器全局对象 (window) 类似</strong></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="模块化"><strong><a href="https://www.jianshu.com/p/fb96179c40bf" target="_blank" rel="noopener noreferrer">模块化</a></strong><a class="hash-link" href="#模块化" title="Direct link to heading">​</a></h3><p><strong>CommonJS、AMD、CMD、ES6模块化</strong></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="模块化优点"><strong>模块化优点：</strong><a class="hash-link" href="#模块化优点" title="Direct link to heading">​</a></h4><ol><li><strong>避免命名冲突</strong>，减少命名空间污染</li><li>更好的文件分离，<strong>按需加载</strong></li><li>更高的<strong>复用性</strong></li><li>更高的<strong>维护性</strong></li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="commonjs-规范"><strong>CommonJS 规范</strong><a class="hash-link" href="#commonjs-规范" title="Direct link to heading">​</a></h4><p><strong>注意：🚄在 Node 中 , 每一个 js 文件中的代码都是独立运行在一个函数中的(函数包裹代码 IIEF) , 【不是全局作用域的】, 模块中的变量和函数在其它模块中是无法访问的</strong></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="require"><strong>require</strong><a class="hash-link" href="#require" title="Direct link to heading">​</a></h4><p><strong>模块引入</strong>：<strong>在 node 中</strong>,通过 <strong>require 函数来引入</strong>外部的模块</p><p>require() 引入的模块【返回的是一个对象】，这个对象代表的是引入的模块内容</p><p>注意：相对路径必须以 <strong>./  ../</strong>  开头</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="exports"><strong>exports</strong><a class="hash-link" href="#exports" title="Direct link to heading">​</a></h4><p><strong>模块导出：</strong>模块中向外部【暴露属性和方法 <strong>/</strong> 使用 exports 属性】</p><p><strong><code>exports.xxx=yyy</code></strong></p><p>缺点：<strong>加载模块是同步的</strong>，只有加载完后才能执行后面的操作；<strong>现加载现用</strong>，在服务器端编程，<strong>加载的模块一般存在本地硬盘里，加载起来比较快，不用考虑异步加载的问题，因为 CommonJS 规范比较适用。</strong>然后，并不适用于浏览器环境，同步意味着阻塞线程，浏览器资源的加载方式是异步的。</p><p><strong>模块的标识：</strong>使用 require() 引入外部模块时，使用的就是模块标识 require('模块标识')  ，可以通过模块标识来找到指定的模块。</p><p><strong>模块主要分两大类:</strong>核心模块<strong>：-由 node 引擎提供的模块，核心模块的标识就是模块的名字 require('模块名')</strong>文件模块**：由开发者创建的模块，文件模块的标识就是模块的相对路径 require('相对路径') </p><p>模块文件结构：当 Node 在执行代码时会自动用下面函数将内容包裹</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">exports</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> require</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> module</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> __filename</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> __dirname</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token spread operator" style="color:#393A34">...</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">文件内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>🍤注意：从这个函数可以看出，开发者使用的 exports , require , module .exports 都是这个函数提供的，在函数执行时传递进去的五个实参，而不是在全局中的，</p><p>exports：- 该对象用来将变量或函数暴露到外部</p><p>require：- 函数，用来引入外部的模块</p><p> module:- 代表的是模块本身，exports 实际上就是 module 的属性</p><p>__filename:- 当前模块的【完整路径】</p><p>__dirname:- 当前模块的所处的【文件夹名】</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="module">module<a class="hash-link" href="#module" title="Direct link to heading">​</a></h4><p>通过<code>module</code>对象可以访问到当前模块的一些相关信息，但最多的用途是替换当前模块的导出对象。例如模块导出对象默认是一个普通对象，如果想改成一个函数的话，可以使用以下方式。</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> exports</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">引用数据类型在堆栈中的关系</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exports只能通过 </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token property-access">来暴露数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports既可以通过</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token property-access">的形暴露，也可以直接赋值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">错误🍳：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exports</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">xxx</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">yyy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token function" style="color:#d73a49">aaa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">正确🍖：exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">xxx</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">yyy 或者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">xxx</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">yyy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token function" style="color:#d73a49">aaa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> 或者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">xxx</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">yyy</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="包-package">包 package<a class="hash-link" href="#包-package" title="Direct link to heading">​</a></h4><p>Common.Js 的包规范允许<strong>将一组模块组合到一起，形成一组完整的工具。</strong></p><p>组成：<strong>包结构、包描述文件</strong></p><p>包结构：-用于组织包中的各种文件( 压缩文件，解压以后还原为目录 )</p><p>​		规范目录：</p><p>​					<strong>-package.js	-描述文件( 必须 )</strong></p><p>​					-bin				  -可执行二进制文件</p><p>​					-lib					-js 代码</p><p>​					-docc				-文档</p><p>​					-test				  -单元测试</p><p>包描述文件：-描述包的相关信息，以供外部读取分析</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="node-包管理器-npm"><strong>Node 包管理器 npm</strong><a class="hash-link" href="#node-包管理器-npm" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">npm </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">v </span><span class="token comment" style="color:#999988;font-style:italic">//查看版本号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm version </span><span class="token comment" style="color:#999988;font-style:italic">//查看所有依赖版本号</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm search 包名 </span><span class="token comment" style="color:#999988;font-style:italic">//搜索包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">i 包名 </span><span class="token comment" style="color:#999988;font-style:italic">//安装包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm remove</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">r 包名 </span><span class="token comment" style="color:#999988;font-style:italic">//删除包</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//安装包并添加到依赖中(package.json文件中),可以查看保证我们需要的包版本</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//现在7.7.6版本不需要提交 --save (自动添加)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install 包名 </span><span class="token operator" style="color:#393A34">--</span><span class="token plain">save </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install 包名 </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">g </span><span class="token comment" style="color:#999988;font-style:italic">//全局安装包(一般是一些工具)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>当把包提交到依赖中( package.json )</strong>,在安包时就不需要一个个去 install 安装,<strong>只需要 npm install 就可以</strong></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="模块初始化"><strong>模块初始化</strong><a class="hash-link" href="#模块初始化" title="Direct link to heading">​</a></h4><p><strong>注意🥩</strong>：一个模块中的 JS 代码仅在模块<strong>第一次被使用时执行一次</strong>，并在执行过程中初始化模块的导出对象。之后，<strong>缓存起来</strong>的导出对象被<strong>重复利用</strong>。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="buffer缓冲区"><strong>Buffer(缓冲区)</strong><a class="hash-link" href="#buffer缓冲区" title="Direct link to heading">​</a></h3><p>用户发送接收的数据(2进制)，在服务器端这里它存放在哪？？？ --- Buffer</p><p>在 Node.js中，定义了一个 Buffer 类，该类用来创建一个🍜<strong>专门存放二进制数据</strong>的缓存区。一个 Buffer <strong>类似于一个数组</strong>，但它对应于 V8 堆内存<strong>之外的一块原始内存。</strong>Buffer 库为 Node.js 带来了一种<strong>存储原始数据的方法</strong>。</p><p>注意🥫：在Unicode编码，<strong>存储时为二进制、显示时为十六机制(0x)、读取时为十进制(日常使用)</strong></p><p>目前使用<strong>new Buffer()构造函数</strong>来创建对象实例已废弃（Buffer对内存的权限操作相比很大，可以直接捕获一些敏感信息），目前官方文档里面<strong>建议使用Buffer.from()接口去创建Buffer对象</strong>。</p><p>Buffer.from(str)  代替 new Buffer(str) 将一个字符串保存到Buffer中</p><p>Buffer.alloc(10) 代替 new Buffer(10) 设置10个字节的Buffer</p><p>性能🍖：Buffer.alloc(清空再分配空间) &gt; Buffer.allocUnsafe(不会清空再分配空间，可能包含敏感数据)</p><p>Buffer 一旦大小确定，则不能修改，因为 Buffer 实际上是对底层的内存的直接操作</p><p>buffer.length   -占用内存的大小</p><p><strong>中文占3个字节(byte)内存</strong></p><p>buffer中每个元素的范围是从 00-ff(16进制)、  0-255(10进制)、  00000000- 11111111(2进制)</p><p><strong>只要数字在控制台或者页面输出都是一个 10进制 的数据( 自动转化 )</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> str </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"你好 node!"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* 将一个字符串保存到Buffer中 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Buffer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">str</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//8 -字符串的长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//12 -占用内存的大小</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 00000000 或 11111111</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 计算机 一个0 或 一个1 我们称为1位（bit）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    8bit=1byte(字节)</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    1024byte=1kb</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    1024kb=1mb</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    1024mb=1gb</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    1024gb=1tb</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    🍕buffer 里的一个元素占用内存一个字节</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Buffer 实例与普通的 JavaScript 字符串之间进行<strong>相互转换 toString()</strong></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="fs--文件系统-"><strong>fs ( 文件系统 )</strong><a class="hash-link" href="#fs--文件系统-" title="Direct link to heading">​</a></h3><p>服务器的本质就是将本地的文件发送给远程的客户端，<strong>通过 Node 来操作系统中的文件，Node通过fs 模块来和文件系统进行交互。</strong></p><p>fs 模块提供了一些标准文件访问的 API 来打开、读取、写入文件。</p><p>使用： <strong><code>const fs = require('fs')</code></strong></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="同步和异步"><strong>同步和异步</strong><a class="hash-link" href="#同步和异步" title="Direct link to heading">​</a></h4><p>调用 fs 模块中所有的操作都<strong>有两种形式可供选择同步和异步。</strong></p><p>同步文件系统会<strong>阻塞</strong>程序的执行,也就是除非操作完毕,否则不会向下执行代码。</p><p>异步文件系统不会阻塞程序的执行,而是在操作完成时,通过回调函数将结果返回。 </p><p>区别：🛹</p><p><strong>同步：<em>const fd =</em> fs.方法名Sync ( path <!-- -->[, mode]<!-- --> )</strong></p><p><strong>异步：fs.方法名 ( path <!-- -->[, mode]<!-- --> , <em>callback</em>)</strong></p><p><strong>异步方法</strong>无需赋值给变量( <strong>无返回值</strong> )，通过回调函数的参数返回值</p><p>Sync :同步;	callbck:回调;</p><p><strong>性能：异步 &gt; 同步</strong></p><p>文件的写入:🚗</p><p>---手动操作的步骤</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="同步">同步<a class="hash-link" href="#同步" title="Direct link to heading">​</a></h5><p>​			1.打开文件</p><p>​			<strong>fs. openSync (path, flagsI, model)</strong></p><ul><li><p>path要打开文件的路径</p></li><li><p>flags打开文件要做的操作的类型</p><p>r只读的</p><p>w可写的</p></li><li><p>mode 设置文件的操作权限,一般不传</p></li><li><p>返回值：---该方法会返回一个文件的描述符作为结果,我们可以通过读描述符来对文件进行各种操作</p><p><strong>fs. openSync ("path", "w/r")</strong></p></li></ul><p>​			2.向文件中写入内容</p><p>​			<strong>fs.writeSync(fd, string[, position<!-- -->[, encoding]<!-- -->])</strong></p><ul><li><p>fd：文件的描述符</p></li><li><p>string：写入得到内容</p></li><li><p>position：初始位置</p></li><li><p>encoding：写入的编码,默认 utf-8</p></li><li><p>返回:  number 写入的字节数。</p><p><strong>fs.writeSync( fd , '内容')</strong></p><p>注意🚒：<strong>此时如果不关闭文件，文件一直存在 内存 中得不到释放</strong></p></li></ul><p>​			3.保存并关闭文件</p><p>​			<strong>fs.closeSync( fd )</strong></p><ul><li>fd：文件的描述符</li></ul><h5 class="anchor anchorWithStickyNavbar_mojV" id="异步">异步<a class="hash-link" href="#异步" title="Direct link to heading">​</a></h5><p>​			1.打开文件</p><p>​			<strong>fs. open (path, flagsl, model, callback)</strong></p><p>​			-用来打开一个文件一异步调用的方法，结果都是通过回调函载			的参救返回的</p><p>​			-回调函数两个参数：</p><p>​					err 错误对象，如果<strong>没有错误则为null</strong></p><p>​					fd 文件的描述符 个</p><p>​			<strong>fs. open (path, flagsl, model, <em>functiom( fd , err ){}</em>)</strong></p><p>​			2.向文件中写入内容</p><p>​			<strong>fs.write(fd, string[, position<!-- -->[, encoding]<!-- -->], functiom( err ){})</strong></p><p>​			3.保存并关闭文件</p><p>​			<strong>fs.close( fd, functiom( err ){} )</strong></p><h5 class="anchor anchorWithStickyNavbar_mojV" id="实用常用写入文件操作">实用(常用)写入文件操作<a class="hash-link" href="#实用常用写入文件操作" title="Direct link to heading">​</a></h5><p>上面两种方式的操作并不实用</p><p>异步：</p><p><strong>fs.writeFile(file, data<!-- -->[, {options}]<!-- -->, <em>callback</em>)</strong></p><p><img loading="lazy" src="/sev/assets/images/1-6628e97dff80aa2e44566819af483891.png" width="534" height="283"></p><p><strong>fs.writeFile(file, data, <em>{flag:'w'}</em>, <em>functiom( err ){}</em> )</strong></p><p>options配置： 常用 r 、 w 、 a <img loading="lazy" src="/sev/assets/images/2-d8a2e853a9c21a45f04f932d462fdb23.png" width="593" height="346"></p><p>知识点补充：当出现路径 C:\ 时，会报错误。解决方法：</p><p>1、使用 \ 转义：C:<!-- -->\<!-- -->\</p><p>2、使用 / : C:/</p><p>同步：</p><p><strong>fs.writeFileSync(file, data<!-- -->[, options]<!-- -->)</strong></p><h5 class="anchor anchorWithStickyNavbar_mojV" id="流式文件写入">流式文件写入<a class="hash-link" href="#流式文件写入" title="Direct link to heading">​</a></h5><p><strong>可以持续写入</strong>(累加)</p><p>同步、异步或者简单文件写入( <strong>一次性写入</strong>，消耗<strong>性能大</strong>，容易导致<strong>内存溢出</strong> )都不适合操作大文件</p><p>使用：</p><p>--- 创建一个可写流( 接水管,往水缸放数据 )</p><p><strong>fs.createWriteStream(path<!-- -->[, options]<!-- -->)</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//创建一个可写流</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ws </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createWriteStream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"./public/test.txt"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 可以通过监听流的open和close事件来监听流的打开和关闭</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">once</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"open"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"流式打开了"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">once</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"close"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"流式关闭了"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 往文件里添加数据,可以连续持续添加</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"1!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"2!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"3!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"4!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 关闭流</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ws.close();  ---尾部关闭</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ws.end();  ---头部关闭</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>on(事件字符串,回调函数)-可以为对象绑定一个事件</p><p>once(事件字符串,回调函数)-可以为对象绑定一个一次性的事件，该事件将会在触发一次以后自动失效</p><p>关闭流</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="文件的读取">文件的读取<a class="hash-link" href="#文件的读取" title="Direct link to heading">​</a></h5><p><strong>fs.readFile 异步;	fs.readFileSync 同步;</strong>	---参数与写入类似</p><p>返回的是一个 <strong>Buffer 类型的数据</strong>，需要<strong>使用 toString() 转化</strong></p><p><strong>流式文件写入</strong></p><p><strong>fs.createReadStream(path<!-- -->[, options]<!-- -->)</strong></p><p>如果要读取一个可读流中的数据,<strong>必须要为可读流绑定一个data事件</strong>, data事件绑定完毕,它会<strong>自动开始读取数据</strong>,<strong>读取完毕就会自动关闭流</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* 流式文件的读写 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"fs"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//创建一个可读流</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> rs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createReadStream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">"./public/#雄狮少年 18岁的他远走他乡，靠一人撑起整个家！再苦再累，他也没有放.mp4"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//创建一个可写流</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ws </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createWriteStream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"./public/test.mp4"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 可以通过监听 可写流 的open和close事件来监听流的打开和关闭</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">once</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"open"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"可写流打开了"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">once</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"close"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"可写流关闭了"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 可以通过监听 可读流 的open和close事件来监听流的打开和关闭</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">once</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"open"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"可读流打开了"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//这里的close事件 可读流读取完毕会自动关闭，无需手动调用 end/close 关闭</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">once</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"close"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"可读流关闭了"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 关闭可写流</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//当读取大文件不是一次性读取的，会一次读取xxx字节大小(累加)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"data"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// console.log(data);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 在这里进行写入文件操作</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ws</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//  ### 不能在这里将可写流关闭，因为数据是一段一段读取的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ws.close();  ---尾部关闭</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ws.end();  ---头部关闭</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>更加简单的方法</strong>：</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="pipe"><strong>pipe()</strong><a class="hash-link" href="#pipe" title="Direct link to heading">​</a></h5><p><strong>pipe()可以将可读流中的内容，直接输出到可写流中</strong></p><p><strong><code>rs.pipe (ws) ;</code></strong></p><p>直接 pipe 无需再绑定 data 事件再写入，自动开启关闭读/写流</p><p><img loading="lazy" src="/sev/assets/images/3-97f72769950ced12aed21a76d085d731.png" width="825" height="337"></p><h5 class="anchor anchorWithStickyNavbar_mojV" id="其它操作">🧨其它操作<a class="hash-link" href="#其它操作" title="Direct link to heading">​</a></h5><p>fs.stat 检测是文件还是目录</p><p>fs.mkdir 创建目录</p><p>fs.writeFile 创建写入文件</p><p>fs.appendFile 追加文件</p><p>fs.readFile 读取文件</p><p>fs. readdir 读取目录</p><p>fs.unlink 删除文件</p><p>fs.rmdir(Sync) 删除目录</p><p>重命名文件和目录(剪切) fs.renmae</p><p>监视文件更改写入 fs.watchFile</p><p><a href="http://nodejs.cn/api/" target="_blank" rel="noopener noreferrer">http://nodejs.cn/api/</a></p>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Vue]]></title>
        <id>/Vue</id>
        <link href="https://kiyan-a.github.io/sev/blog/Vue"/>
        <updated>2022-05-04T02:45:15.000Z</updated>
        <summary type="html"><![CDATA[Vue.js 的优点]]></summary>
        <content type="html"><![CDATA[<h4 class="anchor anchorWithStickyNavbar_mojV" id="vuejs-的优点">Vue.js 的优点<a class="hash-link" href="#vuejs-的优点" title="Direct link to heading">​</a></h4><ul><li><strong>简单轻巧</strong>，功能强大，拥有非常容易上手的 API；</li><li>可<strong>组件化</strong> 和 响应式设计；</li><li>实现数据与结构分离，高性能，易于浏览器的加载速度；</li><li>MVVM 模式，数据双向绑定，<strong>减少了 DOM 操作，将更多精力放在数据和业务逻辑上。</strong></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="el-与-data-的两种写法">el 与 data 的两种写法<a class="hash-link" href="#el-与-data-的两种写法" title="Direct link to heading">​</a></h2><p>通过输出 <strong>new Vue()</strong> 实例对象可以看到：</p><p><img loading="lazy" src="/sev/assets/images/1-a647e3fc97aeba8aa8efeb3ad90b17d9.png" width="401" height="551"></p><p>查看对象的隐式原型属性：</p><p><img loading="lazy" src="/sev/assets/images/2-9a2a798e50fb9f4d13067f1191a233fd.png" width="376" height="561"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="el">el:<a class="hash-link" href="#el" title="Direct link to heading">​</a></h4><p>mount：挂载</p><p><strong>el:'#root' 或者 vm.$mount('#dom')</strong></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="data">data<a class="hash-link" href="#data" title="Direct link to heading">​</a></h4><p><strong>对象式：new Vue({data:{}})</strong></p><p><strong>函数式：data:function(){ </strong>return xxx <strong>}</strong>	或者	<strong>data(){return xxx}</strong></p><p><strong>函数的this 指向 Vue</strong></p><p>以 <code>_</code> 或 <code>$</code> 开头的 属性不会被 <strong>Vue 实例代理</strong>，因为它们可能和 Vue 内置的 property、API 方法冲突。你可以使用例如 <code>vm.$data._property</code> 的方式访问这些 property。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="架构模型-mvvm-模型">架构模型 MVVM 模型<a class="hash-link" href="#架构模型-mvvm-模型" title="Direct link to heading">​</a></h2><p>Vue 受到了MVVM 启发，遵循 MVVM 模型( <strong>在 Vue 出现之前，MVVM 就已经存在</strong> )</p><p>M：数据模型，<strong>对应的是Vue实例对象的 data</strong></p><p>V：视图，<strong>对应的是DOM模板</strong>	</p><p>VM：视图模型，<strong>对应的是Vue实例对象</strong> <strong>new Vue</strong></p><p>View 和 Model 之间没有联系，它们<strong>通过 ViewModel 这个桥梁进行交互</strong>。</p><p><strong>Model 和 ViewModel 之间的交互是双向的</strong>，因此 <strong>View 的变化会自动同步到 Model</strong>，而 <strong>Model 的变化也会立即反映到 View 上</strong>显示。</p><p>当用户操作 View，<strong>ViewModel 感知到变化，然后通知</strong> Model 发生相应改变；反之当 Model 发生改变，<strong>ViewModel 也能感知到变化</strong>，使 View 作出相应更新。</p><p><img loading="lazy" src="/sev/assets/images/3-a066bbac90615c5127afd73105c90795.png" width="471" height="251"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="数据代理">数据代理<a class="hash-link" href="#数据代理" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="objectdefineproperty-es5">Object.defineProperty ES5<a class="hash-link" href="#objectdefineproperty-es5" title="Direct link to heading">​</a></h3><p>应用场景：数据代理、劫持、计算属性等</p><p>define：定义		property：属性</p><p>Object.defineProperty<strong>(对象,属性,{配置项})</strong></p><p>直接通过<strong>对象属性添加的</strong>：</p><p><img loading="lazy" src="data:image/png;base64,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" width="302" height="83"></p><p><strong>Object.defineProperty 添加的</strong>：</p><p><img loading="lazy" src="data:image/png;base64,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" width="299" height="81"></p><p><strong>浅色表达的是---&gt; 不可以被枚举的</strong>(<strong>不参与遍历</strong>)</p><p>如何让浅色的也可以枚举(遍历)：<strong>设置配置项---&gt; enumerable</strong>(可列举的)：true</p><p><strong>配置项属性：(默认值都为false)</strong></p><p>enumerable，是否可以被枚举</p><p>witable，属性是否可以被修改，Object.defineProperty 添加的值默认不能修改</p><p>configurable，属性是否可以被删除</p><p><strong>get函数(getter)</strong>：<strong>当读取</strong>Object.defineProperty方法操作的对象属性时，get函数就被调用，返回操作的对象它的属性的值</p><p><strong>set函数(setter)</strong>：<strong>当修改</strong>Object.defineProperty方法操作的对象属性时，set函数就被调用，它<strong>接收一个参数，为修改的值</strong></p><p><strong>数据代理</strong>：<strong>通过一个对象代理另一个对象中的属性</strong>的操作( 读/写 )</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> obj1</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> obj2</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//通过 defineProperty 代理，然后返回obj1的x和赋值给obj1的x</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">defineProperty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">get</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> obj1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">set</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obj1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">         * Object.defineProperty 缺点：🚟</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">         * 1、在删除对象属性时，它无法去监听 解决：Vue.$delete</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">         * 2、在添加对象属性时，它无法去监听，要初始化就添加，解决：Vue.$set</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">         */</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="vue-应用数据代理">Vue 应用数据代理<a class="hash-link" href="#vue-应用数据代理" title="Direct link to heading">​</a></h3><p>通过defineProperty代理了data:{}的数据，<strong>只要data里的数据一变化，Vue就会自动更新</strong></p><p><img loading="lazy" src="/sev/assets/images/6-59cfb6a765bf7094c7718957d03d8848.png" width="387" height="229"></p><hr><p>步骤：</p><p>1、将 new Vue({data:{}}) 里的data 数据进行<strong>数据收集</strong>到实例对象里的 <strong>_data{}</strong> 中进行<strong>升级加工</strong>，叫做<strong>数据劫持</strong></p><p>​		1)收集数据进行加工</p><p>​		2)<strong><code>vm_data{}=data{}</code></strong></p><p>2、<strong>通过数据代理把vm{_data{}} 里的_data{}的数据再代理到 _data{}外面，也就是vm{}里，为每一个添加到vm上的属性指定一个geeter/setter</strong></p><p><img loading="lazy" src="data:image/png;base64,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" width="208" height="118"></p><p><img loading="lazy" src="/sev/assets/images/10-d0669b4d057a504f1cfeec7df430dffa.png" width="861" height="640"></p><p><strong>vue 双向数据绑定是通过 数据劫持 结合 发布者-订阅者模式的方式来实现的， 也就是说数据和视图同步，数据发生变化，视图跟着变化，视图变化，数据也随之发生改变；</strong></p><p><strong>核心：关于VUE双向数据绑定，其核心是 Object.defineProperty()方法；</strong></p><hr><p>只要<strong>修改了_data里的数据</strong>，Vue就承诺，只要页面中用到的比如<strong>{{name}}就会自动更新</strong></p><p><strong>只要_data数据修改了，那么模板也会重新解析一遍</strong></p><hr><p><strong>注意：只有在 data 里面的 Vue才会做数据代理</strong>，比如methods这些 Vue并没有做数据代理，也没有必要做</p><p><strong>事件修饰符</strong></p><p><strong>滚动条事件@scroll和@wheel</strong></p><p>windows.event || event</p><ul><li><strong><code>.stop</code></strong>：等同于JavaScript中的<code>event.stopPropagation()</code>，防止事件冒泡</li><li><strong><code>.prevent</code></strong>：等同于JavaScript中的<code>event.preventDefault()</code>，防止执行默认的行为（如果事件可取消，则取消该事件，而不停止事件的进一步传播）</li><li><strong><code>.once</code></strong>：只会触发一次</li></ul><hr><ul><li><strong><code>.capture</code></strong>：与事件冒泡的方向相反，事件捕获由外到内，在捕获阶段执行</li><li><strong><code>.self</code></strong>：只会触发自己范围内的事件，不包含子元素</li><li><strong><code>.passive</code></strong>:事件的默认行为会立即执行，无需等待事件执行完毕</li></ul><p><strong>键盘事件@keydown和@keyup</strong></p><ul><li>回车	.enter</li><li>删除     .delete</li><li>退出     .esc</li><li>空格     .space</li><li>换行     .tab   <strong>特殊，必须配合@keydown使用</strong></li><li>上下左右     .up、.down、.left、.right</li><li>等等等等</li></ul><p>input输入框的<strong>onchange事件</strong>，<strong>要在 input 失去焦点的时候才会触发</strong>；</p><p><strong>各按键用法五花八门，需要配合合适的键盘事件和用法</strong></p><p><strong>自定义别名：Vue.config.keyCodes.别名=键码</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="计算属性computed">计算属性computed<a class="hash-link" href="#计算属性computed" title="Direct link to heading">​</a></h2><p><strong>属性指的是Vue对象里data的属性</strong></p><p>所谓的<strong>计算属性</strong>就是用<strong>已经存在的属性( Vue实例上的 )去计算出一个全新的属性</strong></p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">computed:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    funNname:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        当读取funName时，get就会被调用--联想Object.defineProperty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        get(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log('get被调用了')</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //不是必须要写的，但是funName以后会被修改的，就要set函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        set(xxx){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log('get被调用了')</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>当页面解析调用到计算属性funNname时，并不是每次遇到funNname就都会调用，在这里计算属性做了一个<strong>缓存机制(复用)</strong>，当调用到第二次funNname时，不会再调用它，而是直接使用缓存返回值</p><p>计算属性 get 函数什么时候调用？</p><p>1、初次读取 funNname 时</p><p>2、当所<strong>依赖的数据发送变化</strong>时，会被再次调用</p><p><strong>计算属性简写</strong></p><p>（当确定计算属性只考虑读get，不考虑改set时才可以使用简写）</p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">computed:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//把funName当成一个函数使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    funName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>注意：在调用时，简写方式<strong>不能加小括号{{funName()}}</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="监视属性">监视属性<a class="hash-link" href="#监视属性" title="Direct link to heading">​</a></h2><p>监视的属性<strong>必须是已经存在的属性</strong></p><p><strong>对属性的监听会在属性第一次变化后开始进行监听，如果想在创建时监听属性，要使用handler 和immediate对属性监听。immediate设为true，监听方法会在创建的时候执行handler里的方法。</strong></p><p>watch		---		也可以<strong>监视computed的属性</strong></p><p><strong>handler函数：一个回调函数，即监听到变化时执行的函数</strong></p><p><strong>immediate函数：立刻执行的，布尔值，确认是否以当前的初始值执行</strong></p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isHot:true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">watch:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isHot:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //它接收两个参数，一个修改后的值，一个修改前的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //当isHot发生改变时就会调用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        handler(newval,oldval){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log('isHot改变了')</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>另一种监视实现：</p><p><strong><code>vm.$watch('isHot',{配置项})</code></strong></p><h5 class="anchor anchorWithStickyNavbar_mojV" id="深度监视deeptrue">深度监视	deep:true<a class="hash-link" href="#深度监视deeptrue" title="Direct link to heading">​</a></h5><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isHot:{a:1,b:2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">watch:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //监视多级结构的某个属性的变化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    'isHot.a':{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //它接收两个参数，一个修改后的值，一个修改前的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //当isHot发生改变时就会调用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        handler(newval,oldval){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log('isHot.a改变了')</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //监测多级结构的所有属性的改变a和b --- deep配置项等于true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isHot:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //它接收两个参数，一个修改后的值，一个修改前的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //当isHot发生改变时就会调用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            deep:true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            handler(newval,oldval){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                console.log('isHot改变了')</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="监视属性简写"><strong>监视属性简写</strong><a class="hash-link" href="#监视属性简写" title="Direct link to heading">​</a></h3><p><strong>当不需要immediate和deep配置项时就可以简写</strong></p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isHot:{a:1,b:2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">watch:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isHot(newval,oldval){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //它接收两个参数，一个修改后的值，一个修改前的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log('isHot.a改变了')</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong><code>vm.$watch('isHot',function(){})</code></strong>		<strong>不允许写箭头函数</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="条件渲染">条件渲染<a class="hash-link" href="#条件渲染" title="Direct link to heading">​</a></h2><p><strong>v-show、v-if（v-else-if、v-else）</strong></p><p><strong>v-show === display：none</strong>，可以访问到条件为false时的节点</p><p><strong>当需要使用<code>&lt;template&gt;</code>标签进行条件渲染时，template 标签只能配合 v-if 时才会生效，v-show不会生效</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="列表渲染">列表渲染<a class="hash-link" href="#列表渲染" title="Direct link to heading">​</a></h2><p>遍历：<strong>数组/对象/字符串/次数</strong></p><p><strong>v-for </strong> 	也可以配合<code>&lt;template&gt;</code>标签使用，需要<strong>注意</strong>的是也要<strong>配合key使用</strong></p><p><strong><code>v-for="别名(形参) in 数组/对象/字符串/次数"</code></strong> </p><p>从 2.6 起，<code>v-for</code> 也可以在实现了可迭代协议的值上使用</p><p><strong><code>v-for="(value,key) of 数组/对象/字符串/次数"</code></strong> 	---	<strong>value,key相反了</strong></p><p><strong>key：</strong>唯一标识，高效更新，防止复用</p><p>VNodes：虚拟DOM</p><p><code>key</code> 的特殊 attribute 主要用在 Vue 的虚拟 DOM 算法，在新旧 nodes 对比时辨识 VNodes。<strong>如果不使用 key，Vue 会使用一种最大限度减少动态元素并且尽可能的尝试就地修改/复用相同类型元素的算法，而不是重新渲染。</strong>而使用 key 时，它会<strong>基于 key 的变化重新排列元素顺序，并且会移除 key 不存在的元素。</strong></p><p>有相同父元素的子元素必须有<strong>独特的 key</strong>。<strong>重复的 key 会造成渲染错误。</strong></p><p>最常见的用例是结合 <code>v-for</code>：</p><p>在<strong>key</strong>中<strong>不建议使用index</strong>索引，因为<strong>index不是一个唯一的</strong></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;li v-for="item in items" :key="item.id"&gt;...&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/ul&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>它也可以用于强制替换元素/组件而不是重复使用它。当你遇到如下场景时它可能会很有用：</p><ul><li>完整地触发组件的生命周期钩子</li><li>触发过渡</li></ul><p>​	<strong>当和 <code>v-if</code> 一起使用时，<code>v-for</code> 的优先级比 <code>v-if</code> 更高。</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="key">key<a class="hash-link" href="#key" title="Direct link to heading">​</a></h2><p>设置key值时不建议使用index，当对数据节点进行添加删除时(<strong>打乱顺序</strong>)就会出错，因为<strong>index不是一个唯一的</strong>值，<strong>key是提供给Vue内部使用的</strong>，而不会显示在元素标签上</p><p>key是虚拟DOM对象的唯一标识，当状态中的数据发生改变时，Vue会<strong>根据【新的数据】生成【新的虚拟DOM】</strong></p><p><strong>随后Vue进行【新的虚拟DOM】与【旧的虚拟DOM】的差异比较，如下</strong></p><p>当<strong>新虚拟DOM与旧虚拟DOM对比</strong>是，<strong>对比一样的就会使用真实的DOM内容复用，不一样的就更新</strong>		---	所以不建议使用index作为key的值</p><p><img loading="lazy" src="/sev/assets/images/8-a8a428585f36c26fe81bef1ae84555fc.png" width="1207" height="653"></p><p><img loading="lazy" src="/sev/assets/images/9-130bc6f646b1a261d5bd9e2c6a4a8086.png" width="820" height="452"></p><p>复习点：abcd.<strong>indexOf('')</strong> 一个空字符串返回0,abcd.<strong>indexOf('a')</strong>一个空字符串也返回0</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="vue如何监测数据改变原理">Vue如何监测数据改变（原理）<a class="hash-link" href="#vue如何监测数据改变原理" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="vue监测对象的改变"><strong>Vue监测对象的改变</strong><a class="hash-link" href="#vue监测对象的改变" title="Direct link to heading">​</a></h3><p>侦听属性(监测监视) watch 是检测一个数据的变化就执行handle回调函数，<strong>与watch 一样，Vue 也是同样使用了这个原理来实现，当 data() 中的数据变化修改，Vue就更新页面中所有使用到data数据的数据</strong>，只不过 watch 是Vue提供给开发者用的，Vue也有自己自身的侦听方法</p><p><strong>注意：当set函数检测到数据变化时，就回去解析模板，再生成新的虚拟DOM，diff算法比较旧的虚拟DOM，生成真实DOM</strong>🚕🚕🚕🚕🚕</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'尼克杨'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">city</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'洛杉矶'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* Object.defineProperty(data, 'name', {</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            get() {//RangeError: Maximum call stack size exceed...</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                // 给同一个对象进行数据代理</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                // 当读取data时就会调用get函数，get函数return又读取data</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                // 这样形成了一个递归，重复读取data.name产生内存溢出</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                return data.name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            set(val) {//set函数也一样</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                data.name = val</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        }) */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token maybe-class-name">Obs</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Observer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 加工收集数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Observer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">obj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> k </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            k</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#999988;font-style:italic">//this 指向 vm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">defineProperty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        obj</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> val</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> vm </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        vm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">_data</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Obs</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        *原理：</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        *将 data 数据数据劫持到 Observer 的实例对象 Obs 中对数据进行加工，然后数据代理到 vm._data 中</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">         */</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3>**</h3><hr><p><strong>注意：当定义已经定义好data里的属性，在以后再想往data里面添加属性时<code>data.xxx=ooo</code>，这个属性就不是一个响应式的属性了，也就是说Vue监测不到它的变化</strong>。</p><p>Vue 提供了一个 API 来解决这种情况:</p><p><strong><code>Vue.set(目标,'key属性',value属性值)</code></strong></p><p><strong><code>vm.$set(目标,'key属性',value属性值)</code></strong></p><p>但是使用Vue 提供的这个 API <strong>（Set）</strong>也是有<strong>局限性</strong>的：<strong>不能直接给data(Vue实例)添加一个响应式属性，也就是不能给data对象添加一个一级属性，只能给二级属性添加属性</strong></p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="vue监测数组的改变"><strong>Vue监测数组的改变</strong><img loading="lazy" src="/sev/assets/images/11-c67adb49cba4a7644bef31db92f1cc2b.png" width="550" height="357"><a class="hash-link" href="#vue监测数组的改变" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/sev/assets/images/12-d4e4ba3e5e6e314ed97369d74e1753ba.png" width="494" height="168"></p><p><strong>意味着当通过索引值修改 data 的数组里面的元素时，当你修改数组的长度时，Vue并没有监测到改变</strong></p><p>解决方法（原理）：</p><p><strong>方法一：</strong></p><p><strong>当使用可以改变数组的方法( Vue提供的 )时，Vue会监测到数据的变化，重新解析模板进行渲染，如：</strong></p><p><strong>可以修改原数组的</strong></p><ul><li>push 数组后面添加一个元素</li><li>pop数组后面删除一个元素</li><li>unshift数组前面添加一个元素</li><li>shift数组后面删除一个元素</li><li>sort数组排序</li><li>reverse反转数组</li><li>splice数组删除添加替换</li></ul><p><strong><em>注意</em></strong>：此时的<strong>数组方法并不是数组原型上提供的方法，而是 Vue 提供的</strong>，也就是我们调用的不是 JS 原生的 prototype 数组方法，而是 <strong>Vue 包装给我们使用的</strong>，当我们调用方法，<strong>最先在原型链上找到的是 Vue 提供给我们的方法</strong>，才到 JS 原生的数组方法</p><p>调用 Vue 提供的数组方法步骤：</p><p>​	1）当调用到 Vue 提供的数组方法时，Vue 提供的数组方法它会调用数组的 JS 原生方法</p><p>2）当调用完之后它会对模板进行解析解析渲染</p><p><strong>方法二：</strong></p><p>Vue 提供了一个 API 来解决这种情况:</p><p><strong><code>Vue.set(目标,'key属性',value属性值)</code></strong></p><p><strong><code>vm.$set(目标,'key属性',value属性值)</code></strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="数据双向绑定">数据双向绑定<a class="hash-link" href="#数据双向绑定" title="Direct link to heading">​</a></h2><p>v-model 是最好的体现</p><p> input 输入框的 onchange 事件，要在 input 失去焦点的时候才会触发；</p><p>oninput 事件在用户输入时触发，它是在元素值发生变化时立即触发；</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="过滤器">过滤器<a class="hash-link" href="#过滤器" title="Direct link to heading">​</a></h2><p>1、<strong><code>{{需要过滤的数据 | 过滤器的名字}}</code></strong></p><p>2、<strong><code>&lt;h1 :x="数据 | 过滤器名"&gt;&lt;/h1&gt;</code></strong>	不允许在 v-model 使用🚗</p><p>方法一(<strong>局部过滤器</strong>)：<strong>filters</strong></p><p>与methods、computed同级，</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">filters</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//过滤器本质上也是一个函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//除了可以接受val外，还可以接受上面自定义传过来的参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">过滤器名字</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> 接收一个参数，参数来自于需要过滤的数据 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    处理数据格式</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">逻辑</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>方法二(<strong>全局过滤器</strong>)：<strong>filter</strong></p><p><strong><code>Vue.filter('过滤器名',function(val){})</code></strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="vue内置命令">Vue内置命令<a class="hash-link" href="#vue内置命令" title="Direct link to heading">​</a></h2><p><strong>v-if、v-else、v-if-else、v-show、v-for、v-bind、v-model、v-text、v-html、v-once、v-pre、v-cloak </strong>=== {12种}</p><p><a href="https://www.bilibili.com/video/BV1Zy4y1K7SH?p=41" target="_blank" rel="noopener noreferrer"><strong>cookie的重要性</strong></a></p><p><strong>v-html 的安全性问题</strong></p><p><img loading="lazy" src="/sev/assets/images/13-3eb59200996d1c93074fb9456ed33e83.png" width="676" height="191"></p><p><strong>v-cloak指令</strong>只是在标签中加入<strong>一个v-cloak自定义属性</strong>，在HTML编译完成之后()(Vue接管页面)该属性会被删除。<strong>用于 比如：骨架屏，配合CSS实现Vue未接管页面时隐藏一些不必要的内容({{xxx}}),解决网速慢时出现一些插值语法{{xxx}}</strong></p><p><strong>v-pre</strong>可以用来<strong>阻止预编译</strong>，<strong>有v-pre指令的标签内部的内容不会被编译，会原样输出。</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="自定义指令">自定义指令<a class="hash-link" href="#自定义指令" title="Direct link to heading">​</a></h2><p><strong>指令功能：用于解析标签（操作标签的属性、标签的内容、事件的绑定）</strong></p><p><strong>directives </strong> Vue 配置项(与data同级)</p><p>定义连词时不推荐驼峰命名法，可以连续使用 </p><p><strong>指令的 this 指向 window</strong>🚛</p><p>指令只能在所在的组件使用(局部指令)，解决方法：</p><p><strong>全局指令</strong></p><p><strong><code>Vue.directive('指令名',{配置项})</code></strong></p><p>所谓自定义指令就是<strong>一个函数/对象</strong></p><p><strong>函数式：</strong></p><p><strong>注意：这个自定义指令的函数不需要返回值return ，而是通过参数element,binding进行操作</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Vue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">data</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//自定义指令</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">directives</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//指令名(不需要加 v-)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">big</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">element</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">binding</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">不需要</span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain">，直接通过参数进行操作</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">big</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>【自定义指令函数什么时候会被调用？】</p><p><strong>1、当v-指令与元素绑定时会被调用</strong></p><p><strong>2、指令所在的模板被重新解析时被调用</strong></p><p><strong>对象式：</strong></p><p><strong>Vue提供了三个函数供指令使用</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Vue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">data</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//自定义指令</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">directives</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//指令名(不需要加 v-)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">big</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">//指令与元素绑定时被调用，此时模板还在内存中，没有渲染到页面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token function" style="color:#d73a49">bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">//指令所在的元素被插入页面时调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token function" style="color:#d73a49">inserted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">//指令所在的模板被重新解析时调用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token function" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="ref"><strong>ref</strong><a class="hash-link" href="#ref" title="Direct link to heading">​</a></h2><p>用来给<strong>自身元素或子组件注册引用信息</strong>( ID替代着 )	---	组件间<strong>通讯</strong></p><p>应用在<strong>标签元素上获得的是真实的元素</strong>，应用在<strong>组件标签中获得的是组件的实例对象</strong></p><p>设置：<strong><code>&lt; 标签或组件标签 ref='xxoo'&gt;&lt;/ 标签或组件标签 &gt;</code></strong></p><p>获取：<strong><code>this.$refs.xxoo</code></strong>	<strong>子传父</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="porps">porps<a class="hash-link" href="#porps" title="Direct link to heading">​</a></h2><p><strong>通过标签属性传值( 父组件 )</strong></p><p>设置：<strong><code>&lt; 标签或组件标签 xx='oo' :aa='oo'&gt;&lt;/ 标签或组件标签 &gt;</code></strong></p><p><strong>子组件通过与data属性同级的 prop 属性接收</strong></p><p>接收:接收时数据并没有放到<strong>子组件的data属性</strong>上，而是<strong>直接在子组件上</strong>🚓🚓🚓</p><p><img loading="lazy" src="/sev/assets/images/14-f4c4e67307952e4090e9109f32b74f4f.png" width="389" height="256"></p><p>方法一<strong>数组：porp:<!-- -->['xx','aa']</strong>	---	<strong>props接收不了 key 或 ref 属性</strong></p><p>方法二<strong>对象：porps:{}</strong>	--	需要传指定类型的数据写法</p><div class="codeBlockContainer_I0IT language-less theme-code-block"><div class="codeBlockContent_wNvx less"><pre tabindex="0" class="prism-code language-less codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">props:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">xx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">oo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">Number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector" style="color:#00009f">或</span><br></span><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">props:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token selector" style="color:#00009f">xx:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token property" style="color:#36acaa">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">String</span><span class="token punctuation" style="color:#393A34">,</span><span class="token comment" style="color:#999988;font-style:italic">//类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token property" style="color:#36acaa">required</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token comment" style="color:#999988;font-style:italic">//必须的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token property" style="color:#36acaa">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">99</span><span class="token punctuation" style="color:#393A34">,</span><span class="token comment" style="color:#999988;font-style:italic">//默认的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>当 props 的值与子组件 data 的属性同名时，<strong>props 的属性优先级更高</strong></p><p>将 props 传进来的值赋值给 data 属性 ( 因为props 的优先级高，所以子组件是先接收prop 再初始化 data 数据 )</p><p><strong>注意：通过prop方式传到子组件时，Vue不希望修改它的值的</strong></p><p>解决方法：</p><div class="codeBlockContainer_I0IT language-less theme-code-block"><div class="codeBlockContent_wNvx less"><pre tabindex="0" class="prism-code language-less codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">data()</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token selector" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">myXX</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">this.xx    </span><span class="token comment" style="color:#999988;font-style:italic">//复制 props 到 data 中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">props</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">[</span><span class="token string" style="color:#e3116c">'xx'</span><span class="token plain">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="mixin混入混合"><strong>mixin混入</strong>/混合<a class="hash-link" href="#mixin混入混合" title="Direct link to heading">​</a></h2><p>分发 Vue 组件中的<strong>可复用功能</strong>，一个混入对象<strong>可以包含任意组件选项</strong>。</p><p><strong>局部混合：</strong></p><div class="codeBlockContainer_I0IT language-less theme-code-block"><div class="codeBlockContent_wNvx less"><pre tabindex="0" class="prism-code language-less codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//创建一个 mixin.js 文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector" style="color:#00009f">export const mixin =</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//配置项 混合</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token selector" style="color:#00009f">methods:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token selector" style="color:#00009f">hello: function ()</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"hello from mixin!"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>与data同级创建一个mixins配置项</strong></p><div class="codeBlockContainer_I0IT language-less theme-code-block"><div class="codeBlockContent_wNvx less"><pre tabindex="0" class="prism-code language-less codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//在需要引用的功能组件中引入</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">mixin</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> from </span><span class="token string" style="color:#e3116c">'xxx/mixin'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//与data同级创建一个mixins配置项</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">mixins</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">[mixin]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>注意：当组件中已经有了相同名字的混合项时，mixin的混合项会与组件的合并，而不是覆盖它</strong></p><p><strong>生命钩子：同名钩子函数将合并为一个数组，因此都将被调用。另外，混入对象的钩子将在组件自身钩子之前调用。</strong>🦽🦽🦽🦽🦽</p><p><strong>data：当组件和混入对象含有同名选项时，这些选项将以恰当的方式进行“合并”。</strong></p><p><strong>比如，数据对象在内部会进行递归合并，并在发生冲突时以组件数据优先</strong></p><p><strong>全局混合：</strong></p><div class="codeBlockContainer_I0IT language-less theme-code-block"><div class="codeBlockContent_wNvx less"><pre tabindex="0" class="prism-code language-less codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">main.js文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">mm</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> from </span><span class="token string" style="color:#e3116c">'xxx/mixin'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vue.</span><span class="token function" style="color:#d73a49">mixin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mm</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>注意的是全局混合的话，Vue所有的组件都会使用它</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="vue-插件">Vue 插件<a class="hash-link" href="#vue-插件" title="Direct link to heading">​</a></h2><p>插件通常用来<strong>为 Vue 添加全局功能</strong>。插件的功能范围<strong>没有严格的限制</strong>——一般有下面几种：</p><ol><li>添加全局方法或者 property。如：<a href="https://github.com/karol-f/vue-custom-element" target="_blank" rel="noopener noreferrer">vue-custom-element</a></li><li>添加全局资源：<strong>指令/过滤器/过渡等</strong>。如 <a href="https://github.com/vuejs/vue-touch" target="_blank" rel="noopener noreferrer">vue-touch</a></li><li>通过<strong>全局混入</strong>来添加一些组件选项。如 <a href="https://github.com/vuejs/vue-router" target="_blank" rel="noopener noreferrer">vue-router</a></li><li><strong>添加 Vue 实例方法</strong>，通过把它们添加到 <code>Vue.prototype</code> 上实现。</li><li>一个库，提供自己的 API，同时提供上面提到的一个或多个功能。如 <a href="https://github.com/vuejs/vue-router" target="_blank" rel="noopener noreferrer">vue-router</a></li></ol><p><strong>使用：</strong></p><p>通过全局方法 <strong><code>Vue.use()</code> 使用插件</strong>。它需要在你调用 <strong><code>new Vue()</code> 启动应用之前</strong>完成🚉🚉🚉🚉</p><p>创建一个plugin.js文件插件
插件<strong>暴露一个 install 方法</strong>，这个方法的<strong>第一个参数是 Vue 构造器，第二个参数是一个可选的选项对象</strong>：</p><div class="codeBlockContainer_I0IT language-less theme-code-block"><div class="codeBlockContent_wNvx less"><pre tabindex="0" class="prism-code language-less codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">plugin.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">export default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token selector" style="color:#00009f">install(Vue, options)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 1. 添加全局方法或 property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token selector" style="color:#00009f">Vue.myGlobalMethod = function ()</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 逻辑...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 2. 添加全局资源</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Vue.directive</span><span class="token selector" style="color:#00009f">('my-directive',</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token selector" style="color:#00009f">bind (el, binding, vnode, oldVnode)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// 逻辑...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 3. 注入组件选项</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Vue.mixin</span><span class="token selector" style="color:#00009f">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token selector" style="color:#00009f">created: function ()</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// 逻辑...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 4. 添加实例方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token selector" style="color:#00009f">Vue.prototype.$myMethod = function (methodOptions)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 逻辑...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>在main.js文件下，<strong>在调用 new Vue() 启动应用之前完成导入和使用</strong></p><div class="codeBlockContainer_I0IT language-less theme-code-block"><div class="codeBlockContent_wNvx less"><pre tabindex="0" class="prism-code language-less codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//main.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import plugin from </span><span class="token string" style="color:#e3116c">'@/plugin'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 调用 `plugin.install(Vue)`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vue.</span><span class="token function" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">plugin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//或也可以传入一个可选的选项对象：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vue.use</span><span class="token selector" style="color:#00009f">(plugin,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">someOption</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> true </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vue.</span><span class="token function" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">plugin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">参数</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="scoped私有的">scoped(私有的)<a class="hash-link" href="#scoped私有的" title="Direct link to heading">​</a></h2><p>在style标签上添加scoped属性，<strong>让样式在局部生效，防止选择器命名冲突</strong>(其实就是给当下组件设置一个随机属性，通过标签属性选择器来进行添加样式)</p><p><img loading="lazy" src="/sev/assets/images/15-a0fc9f4408e88ef868c8543a19e649b9.png" width="327" height="230"></p><p><strong>注意：App.vue 文件不推荐使用 scoped</strong></p><p>知识点复习:查看插件/配置等版本 <strong><code>npm view axios versions</code></strong></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="uuid">uuid<a class="hash-link" href="#uuid" title="Direct link to heading">​</a></h3><p>生成一个全球唯一的ID---体积庞大</p><p>替代者 <strong>nanoid</strong></p><h1><strong>组件间传递数据</strong></h1><h3 class="anchor anchorWithStickyNavbar_mojV" id="父子互传"><strong>父子互传</strong><a class="hash-link" href="#父子互传" title="Direct link to heading">​</a></h3><p>通常我们说props是父传子，其实<strong>props是父子互传</strong></p><p>实现props<strong>子传父**</strong>前提**</p><p><strong>我们可以通过props传递一个回调函数过去，通过子组件调用这个回调函数返回一个值就可以实现props子传父</strong></p><p><strong>回调函数</strong></p><p><strong>通过父组件创建一个回调函数，通过prop传给子组件，子组件通过props接收进行调用传回来参数</strong></p><p><strong>利用 v-model 的双向数据绑定也可以来修改 组件间的值！！！(子传父)</strong></p><p><strong>利用 v-model 的双向数据绑定也可以来修改 组件间的值！！！(子传父)</strong></p><p><strong>利用 v-model 的双向数据绑定也可以来修改 组件间的值！！！(子传父)</strong></p><p><strong>我们知道 Vue 不推荐或者会监测我们修改 props 接收的值，也就是父传子之间的值</strong></p><p><strong>但是实际上 Vue 不希望我们修改的是基本类型的值，对于引用类型的值我们还是可以修改的</strong></p><p><strong>实际上 Vue 不希望我们修改的是属性的指针(地址值)，类似于const关键字</strong></p><p><strong>注意：v-model的值只能是对象，虽然通过 v-model 也可以修改，但是还是不太推荐注意做法</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="子传父">子传父<a class="hash-link" href="#子传父" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="组件自定义事件-emit"><strong>组件自定义事件 $emit</strong><a class="hash-link" href="#组件自定义事件-emit" title="Direct link to heading">​</a></h3><p><strong>注意：是组件的</strong></p><p><strong>@自定义事件名='methods方法'</strong></p><p><strong>this.$emit('自定义事件名',传递的参数) --- 子组件</strong>(静态绑定)			或</p><p><strong>this.$refs.xxx.$on('自定义事件名','methods方法(这里需要注意this的指向)')</strong>(动态绑定/灵活)</p><p><strong>通过ref方式绑定自定义事件时，methods方法要么在methods中配置，要么直接在括号配置方法（需要用箭头函数）</strong>，否则 this 指向会出现问题</p><p>注意：谁调用自定义事件名，它的this就指向谁，事件的回调在父组件中(methods里的方法)</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="组件自定义事件-emit-解绑"><strong>组件自定义事件 $emit 解绑</strong><a class="hash-link" href="#组件自定义事件-emit-解绑" title="Direct link to heading">​</a></h3><p>类似于定时器一样，当不需要时我们可以给组件自定义事件解绑</p><p>谁创建的自定义事件就在谁那边解绑( 子组件 )</p><p>方法一：解绑一个自定义事件</p><p><strong>this.$off('自定义事件名')</strong>			</p><p>方法二:解绑多个自定义事件(放到数组里面)</p><p><strong>this.$off(<!-- -->['自定义事件名1','自定义事件名2]<!-- -->)</strong>		</p><p>方法三：解绑<strong>所有的</strong>自定义事件		什么都不传</p><p><strong>this.$off()</strong></p><p>方法四：销毁组件</p><p><strong>this.$destroy</strong></p><p><strong>注意：当一个组件被销毁了 this.$destroy 那么它身上的自定义事件也就不奏效了</strong>。<strong>当一个父组件被销毁了，那么它自身的和子组件的定义事件也就不奏效了</strong>。需要注意的是它<strong>JS原生的事件还在</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="组件如何使用-js-原生事件">组件如何使用 JS <strong>原生事件</strong><a class="hash-link" href="#组件如何使用-js-原生事件" title="Direct link to heading">​</a></h2><p>如何在标签内使用 JS 原生事件</p><p>注意：在组件标签内<strong>不支持使用@click</strong>，当在组件内使用@xxx JS 原生事件时，Vue <strong>会把原生事件当做它的组件自定义事件</strong></p><p>解决方法：在事件后面添加事件修饰符 <strong>native</strong>		<strong>@click.native</strong></p><p><strong>为什么一个组件里面只允许有一个div(父div)？？？</strong></p><p>原因一：我们在为组件添加事件时，<strong>如果在组件中出现两个div，Vue不知道给哪个div添加事件</strong></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="ref-1"><strong>ref</strong><a class="hash-link" href="#ref-1" title="Direct link to heading">​</a></h3><p>应用在<strong>标签元素上获得的是真实的元素</strong>，应用在<strong>组件标签中获得的是组件的实例对象</strong></p><p><strong>标签/组件 ref='xxx'</strong></p><p><strong>this.$refs.xxx</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="全局事件总线-bus-兄弟互传"><strong>全局事件总线 $bus 兄弟互传</strong><a class="hash-link" href="#全局事件总线-bus-兄弟互传" title="Direct link to heading">​</a></h2><p><strong>其实可以实现任意组件互传</strong></p><p><strong>沟通桥梁的概念</strong>，所有组件<strong>共用相同的事件中心</strong>，可以向该中心<strong>注册发送事件或接收事件</strong>，所以组件都可以上下平行地通知其他组件，但也就是太方便所以<strong>若使用不慎，就会造成难以维护的灾难</strong>，因此才需要更完善的Vuex作为状态管理中心，将通知的概念上升到共享状态层次。</p><p>全局事件总线的条件：</p><p>1、创建全局事件总线，需要所有的组件都能看到它 --- <strong>挂载到Vue显示原型上</strong></p><p>实质上它是一个<strong>不具备 DOM 的组件</strong>，它具有的仅仅只是它实例方法而已，因此它非常的轻便。</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">在main</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">js文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Vue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  router</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  store</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">render</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">h</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">h</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">App</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//在初始化前将 $bus 挂载到Vue显示原型上，让所有组件都能访问它</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">beforeCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Vue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$bus</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">//安装全局事件总线</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">$mount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"#app"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>2、拥有$on、$emit、$off方法 --- <strong>$on、$emit、$off方法在Vue组件实例的原型上</strong></p><p><img loading="lazy" src="/sev/assets/images/16-e253b06253de11911e11f1b5a0ba15bd.png" width="380" height="226"></p><p>3、通过<strong>$emit、$on组件自定义事件进行兄弟间数据传递</strong>，当在<strong>不需要时</strong>我们注意要<strong>把组件自定义事件销毁</strong></p><p>4、最好在beforeDestroy生命钩子中，用$off('xxx')去<strong>解绑当前组件所用到的自定义事件。</strong></p><p>步骤：</p><p>(<strong>发送</strong>)创建/触发自定义事件：<img loading="lazy" src="data:image/png;base64,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" width="326" height="73"></p><p>(<strong>接收</strong>)绑定自定义事件：<img loading="lazy" src="data:image/png;base64,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" width="293" height="70"></p><p>(<strong>接收</strong>)解绑自定义事件：<img loading="lazy" src="data:image/png;base64,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" width="226" height="70"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="消息订阅与发布任意组件间通讯">消息订阅与发布(任意组件间通讯)<a class="hash-link" href="#消息订阅与发布任意组件间通讯" title="Direct link to heading">​</a></h2><p>1、消息订阅：消息名</p><p>2、消息发布：消息内容</p><p>原生 JS 里面并没有办法实现消息订阅与发布，<strong>需要借助第三方库</strong></p><p>推荐：<strong>pubsub-js</strong>		publish 订阅；subscribe 发布</p><p><strong><code>npm install punsub-js</code></strong></p><p>步骤：</p><p><strong>接收数据</strong>(组件)：	</p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//导入 pubsub-js 插件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import pubsub from 'pubsub-js'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data(){return {punID:''}},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mounted() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    订阅消息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.pubID=pubsub.subscribe('eve', (a 或 _ 000000,data) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log('eve消息订阅执行了',data)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      这里的如果正常函数function this 为 undefind</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>当不需要第一个参数时，我们怎么去占位呢？？？</strong></p><p>使用一个 <strong>_</strong> 下划线</p><p><strong>发布数据</strong>(组件)：	</p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//导入 pubsub-js 插件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import pubsub from 'pubsub-js'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      pub: '消息订阅与发布',</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  methods: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ee() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      发布内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      pubsub.publish('eve', this.pub)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>注意：与全局事件总线不一样的是，<strong>在订阅消息(在$bus是绑定自定义事件)时，消息订阅与发布接收两个参数</strong></p><p><strong><code>pubsub.subscribe('消息名', (a,data) =&gt;{console.log(a,data)})</code></strong></p><p><strong>a：消息名； data：接收的数据</strong></p><p>(<strong>接收</strong>)解绑销毁订阅：（与全局数事件总线不相同）<strong>接收的是pubsub的一个ID</strong></p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">beforeDestroy() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   pubsub.unsubscribe(this.pubID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="nexttick">$nextTick<a class="hash-link" href="#nexttick" title="Direct link to heading">​</a></h2><p><strong>nextTick(回调函数(){})，是将回调函数延迟在下一次dom更新数据后调用</strong></p><p>简单的理解是：<strong>当数据更新了，【在dom中渲染后】，自动执行该函数，</strong></p><p>1、Vue生命周期的created()钩子函数<strong>进行的DOM操作一定要放在Vue.nextTick()的回调函数中</strong>，<strong>原因是在created()钩子函数执行的时候DOM 其实并未进行任何渲染，而此时进行DOM操作无异于徒劳，所以此处一定要将DOM操作的js代码放进Vue.nextTick()的回调函数中</strong>。与之对应的就是mounted钩子函数，因为该钩子函数执行时所有的DOM挂载已完成。</p><p>2、当项目中你想在<strong>改变DOM元素的数据后</strong>基于新的dom做点什么，<strong>对新DOM一系列的js操作都需要放进Vue.nextTick()的回调函数中；</strong>通俗的理解是：更改数据后当你想立即使用js操作新的视图的时候需要使用它</p><p>vue改变dom元素结构后使用vue.$nextTick()方法来实现dom数据更新后延迟执行后续代码</p><p><strong>3、在使用某个第三方插件时 ，希望在vue生成的某些dom动态发生变化时重新应用该插件，也会用到该方法，这时候就需要在 $nextTick 的回调函数中执行重新应用插件的方法。</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="过渡--动画"><strong>过渡 &amp; 动画</strong><a class="hash-link" href="#过渡--动画" title="Direct link to heading">​</a></h2><p><img loading="lazy" src="/sev/assets/images/20-afa04bfd75db779eb64cab59a1ca89e6.png" width="1200" height="600"></p><p>注意：在需<strong>过渡 &amp; 动画</strong>的结构标签加上<strong><code>&lt;transition&gt;&lt;/transition&gt;</code></strong>包裹</p><p>在进入/离开的过渡中，会有 <strong>6 个 class</strong> 切换。</p><ol><li><code>v-enter</code>：定义进入过渡的开始状态。在元素被插入之前生效，在元素被插入之后的下一帧移除。</li><li><code>v-enter-active</code>：定义进入过渡生效时的状态。在整个进入过渡的阶段中应用，在元素被插入之前生效，在过渡/动画完成之后移除。这个类可以被用来定义进入过渡的过程时间，延迟和曲线函数。</li><li><code>v-enter-to</code>：定义进入过渡的结束状态。在元素被插入之后下一帧生效 (与此同时 <code>v-enter</code> 被移除)，在过渡/动画完成之后移除。</li><li><code>v-leave</code>：定义离开过渡的开始状态。在离开过渡被触发时立刻生效，下一帧被移除。</li><li><code>v-leave-active</code>：定义离开过渡生效时的状态。在整个离开过渡的阶段中应用，在离开过渡被触发时立刻生效，在过渡/动画完成之后移除。这个类可以被用来定义离开过渡的过程时间，延迟和曲线函数。</li><li><code>v-leave-to</code>：定义离开过渡的结束状态。在离开过渡被触发之后下一帧生效 (与此同时 <code>v-leave</code> 被删除)，在过渡/动画完成之后移除。</li></ol><p><img loading="lazy" src="/sev/assets/images/21-518f4a735fe71b603f697ac92799ee56.png" width="1074" height="48"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="自定义过渡的类名"><strong>自定义过渡的类名</strong><a class="hash-link" href="#自定义过渡的类名" title="Direct link to heading">​</a></h4><p>解决一个页面中多个元素需要添加动画过渡时，出现多个 v-xxx 的 <strong>class 命名冲突</strong></p><p><strong><code> &lt;transition name="自定义的类名"&gt;&lt;/transition&gt;</code></strong></p><p><strong>默认过渡的类名</strong>中的 <strong>“v”</strong> 变成了<strong>自定义的类名</strong></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="初始渲染的过渡"><strong>初始渲染的过渡</strong><a class="hash-link" href="#初始渲染的过渡" title="Direct link to heading">​</a></h4><p>让页面一加载就拥有动画效果</p><p>可以通过 <code>appear</code> 设置节点在初始渲染的过渡</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">transition</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">appear</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">transition</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="显性的过渡持续时间"><strong>显性的过渡持续时间</strong><a class="hash-link" href="#显性的过渡持续时间" title="Direct link to heading">​</a></h4><p>在这种情况下你可以用 <code>&lt;transition&gt;</code> 组件上的 <code>duration</code>定制一个显性的过渡持续时间 (以毫秒计)：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">transition</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">:duration</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">1000</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">...</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">transition</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>你也可以定制进入和移出的持续时间：</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">transition</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">:duration</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{ enter: 500, leave: 800 }</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">...</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">transition</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="多个元素的过渡"><strong>多个元素的过渡!!!</strong><a class="hash-link" href="#多个元素的过渡" title="Direct link to heading">​</a></h3><p><strong>注意：当嵌套多个元素时，使用<code>&lt;transition&gt;&lt;/transition&gt;</code>会报错误生效，因为transition只适用于包裹一个元素！！！！！！！！！！！！！！！！！</strong></p><p>解决方法：使用<strong><code>&lt;transition-group&gt;&lt;/transition-group&gt;</code>,</strong>并且<strong>需要给每个元素匹配一个 key 值</strong></p><p><strong>给每个元素匹配一个 key 值<br>给每个元素匹配一个 key 值<br>给每个元素匹配一个 key 值</strong></p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">transition</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">transition</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">transition-group</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">transition-group</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="使用第三方集成动画"><strong>使用第三方集成动画</strong><a class="hash-link" href="#使用第三方集成动画" title="Direct link to heading">​</a></h4><p>推荐：animate	<a href="https://animate.style/" target="_blank" rel="noopener noreferrer">https://animate.style/</a></p><p>安装：<strong><code>npm install animate.css --save</code></strong></p><p>引入：<strong><code>import 'animate.css'</code></strong></p><p>使用：添加三个属性配置<strong>name、enter-active-class、leave-active-class</strong></p><p><strong>name="animate<strong>__</strong>animated animate___bounce"</strong></p><p><strong>进入动画</strong>：enter-active-class=“动画类名”</p><p><strong>离开动画</strong>：leave-active-class=“动画类名”</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">transition-group</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">animate__animated animate__bounce</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag attr-name" style="color:#00a4db">enter-active-class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">animate__backOutDown</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag attr-name" style="color:#00a4db">leave-active-class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">leave-active-class</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">transition-group</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="配置代理">配置代理<a class="hash-link" href="#配置代理" title="Direct link to heading">​</a></h2><p>发请求：</p><p>1、xhr(<strong>XMLHTTPRequest</strong>)：<strong>元老</strong></p><p>2、Jquery</p><p>3、axios <strong>主流</strong>，需手动引入第三方库，居于Promise封装</p><p>4、fetch  <strong>浏览器自身拥有无需引入</strong>第三方库，也是居于Promise封装，<strong>缺点:将返回的数据包两层Promise，需两次.then() 才能拿到数据，兼容性差(不支持IE)</strong></p><p>浏览器的同源策略：同源策略是一种约定，它是浏览器<strong>最核心也是最基本的安全功能。</strong>出于安全考虑，<strong>浏览器限制从JS脚本发起的跨源HTTP请求。</strong> 例如，<strong>XMLHttpRequest和Fetch</strong> API都遵循同源策略。</p><p>注意:同源指的是<strong>协议、域名、端口号相同</strong></p><p><img loading="lazy" src="/sev/assets/images/22-4c5dd8e18ba161487da46af322d286e0.png" width="899" height="401"></p><p> <strong>同源策略“只针对于浏览器端”，浏览器一旦检测到请求的结果的域名不一致后，会堵塞请求结果</strong>。这里注意，<strong>跨域请求是可以发去的，但是请求响应response被浏览器堵塞了</strong>。</p><ul><li>同源策略的非绝对性：<code>&lt;script&gt; &lt;img&gt; &lt;iframe&gt; &lt;link&gt; &lt;video&gt; &lt;audio&gt;</code>等带有src属性的标签可以从不同的域加载和执行资源。</li></ul><p>解决方案：</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="cors-真正意义上的解决-"><strong>CORS</strong>( 真正意义上的解决 )<a class="hash-link" href="#cors-真正意义上的解决-" title="Direct link to heading">​</a></h3><p>写服务器的开发者，<strong>在服务器里给前端返回响应时，添加一些特殊的响应头</strong></p><p>也就是虽然跨域了，但是服务器在返回响应时添加特殊的响应头，浏览器发现跨域和特殊的响应头后，同意了将数据返回给页面</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="jsonp"><strong>JSONP</strong><a class="hash-link" href="#jsonp" title="Direct link to heading">​</a></h3><p><strong>原理：</strong></p><ul><li><p>JSONP 本质上是利用 <code>&lt;script&gt;&lt;img&gt;&lt;iframe&gt;</code> 等标签不受同源策略限制，可以从不同域加载并执行资源的特性，来实现数据跨域传输。</p></li><li><p>JSONP由两部分组成：<strong>回调函数和数据</strong>。回调函数是当响应到来时应该在页面中调用的函数，而<strong>数据就是传入回调函数中的JSON数据</strong>。</p></li><li><p>JSONP 的理念就是，与服务端约定好一个回调函数名，服务端接收到请求后，将返回一段 Javascript，在这段  Javascript 代码中调用了约定好的回调函数，并且将数据作为参数进行传递。当网页接收到这段 Javascript 代码后，就会执行这个回调函数，这时数据已经成功传输到客户端了。</p><p>JSONP请求，<strong>缺点是仅支持GET请求</strong>，必须完全信任提供服务的第三方，<strong>优点是支持老式浏览器，兼容性较好</strong>。</p></li></ul><p>​    CORS比JSONP更强大，支持所有类型的HTTP请求。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="开启代理服务器"><strong>开启代理服务器</strong><a class="hash-link" href="#开启代理服务器" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/sev/assets/images/23-e6015ec06d64d1b4df6cc1155b48648d.png" width="695" height="231"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="devserverproxy"><a href="https://cli.vuejs.org/zh/config/#devserver-proxy" target="_blank" rel="noopener noreferrer">#</a>devServer.proxy<a class="hash-link" href="#devserverproxy" title="Direct link to heading">​</a></h4><p>方式一：</p><p>通过 <code>vue.config.js</code>文件 中的 <code>devServer.proxy</code> 选项来配置。<code>devServer.proxy</code> 可以是一个指向开发环境 API 服务器的字符串</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">devServer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//让代理服务器去放数据的服务器(http://localhost:4000)里拿数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">proxy</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'http://localhost:4000'</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>优点：配置简单，请求资源时直接发给代理服务器(8080)即可</p><p>缺点：不能配置多个代理，不能灵活控制请求是否走代理(如果在public文件夹下有相同路径名(路径冲突)，代理服务器会优先返回public下的数据)</p><p>方式二：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">devServer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">proxy</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">'/api'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#999988;font-style:italic">//请求资源时必须加的前缀</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">target</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'&lt;url&gt;'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">ws</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">changeOrigin</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//请求到代理服务器时将^/api开头的路径重写</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pathRewrite</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string-property property" style="color:#36acaa">'^/api'</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">'/foo'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">target</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'&lt;other_url&gt;'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>优点：能配置多个代理，能灵活控制请求是否走代理</p><p>缺点：配置略微繁琐，<strong>请求资源时必须加前缀</strong></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="引入全局css样式"><strong>引入全局CSS样式</strong><a class="hash-link" href="#引入全局css样式" title="Direct link to heading">​</a></h3><p>方式一：把文件放到src/assets文件夹下，通过在main.js(不推荐)导入或在App.vue引入。缺点：当CSS文件里有不存在的依赖文件(font字体等)，Vue会在页面报错</p><p>方式二：把文件放到public文件夹下，通过在index.html的标签link导入。这样解决了当CSS文件里有不存在的依赖文件(font字体等)，Vue会在页面报错</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="插槽">插槽<a class="hash-link" href="#插槽" title="Direct link to heading">​</a></h2><p>在组件中使用<strong><code>&lt;slot&gt;默认内容，当没有使用插槽时可以默认显示这里的内容&lt;/slot&gt;</code></strong>标签，在使用组件标签时里面嵌套内容，<strong>内容将在插槽中展示</strong></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="动态插槽名"><strong>动态插槽名</strong><a class="hash-link" href="#动态插槽名" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;base-layout&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;template v-slot:[dynamicSlotName]&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/base-layout&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="具名插槽"><strong>具名插槽</strong><a class="hash-link" href="#具名插槽" title="Direct link to heading">​</a></h3><p>在插槽标签中定义名字<strong><code>&lt;slot name="名字"&gt;&lt;/slot&gt;</code></strong></p><p>在组件标签使用时设置名字<strong><code>&lt;组件名&gt;&lt;某标签 slot="名字"&gt;&lt;/某标签&gt;&lt;/组件名&gt;</code></strong></p><p><strong>注意：使用 <code>&lt;template&gt;</code> 包裹标签，需要使用另外一种写法</strong></p><p><strong><code>&lt;template v-slot:名字&gt;&lt;/template&gt;</code></strong> 或 简写</p><p><strong><code>&lt;template #名字&gt;&lt;/template&gt;</code></strong> 	仅仅能使用在<strong>template</strong>标签上</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="作用域插槽"><strong>作用域插槽</strong><a class="hash-link" href="#作用域插槽" title="Direct link to heading">​</a></h3><p>让<strong>插槽内容</strong>能够访问<strong>子组件</strong>中<strong>才有的数据</strong></p><p>插槽需要使用的数据在子组件中，使用插槽内容的组件并没有它的数据</p><p><strong>解决方法：类似于props一样设置slot标签的属性进行对插槽的传值</strong></p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">子组件current-user中，user为数据(类似props)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;span&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;slot :user="user"&gt;&lt;/slot&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/span&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">使用子组件的组件中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;current-user&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //&lt;template scope&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //&lt;template v-slot:default="user"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;template scope={支持解构赋值}&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {{ user }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/current-user&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>注意：在使用子组件的组件中 必须 使用 template 标签 + scope 属性🚗 </strong></p><h1>VueX</h1><p>采用<strong>集中式存储管理应用的所有组件的状态(数据)</strong>，并以相应的规则保证状态以一种可预测的方式发生变化。Vue的插件。</p><p><strong>对Vue应用中多个组件的共享状态(数据)进行集中的管理(读/写)</strong>，也是一种组件间的通信方式，且适用于<strong>任意组件间通讯</strong>，它不属于任何组件</p><p><strong>什么时候使用VueX</strong></p><p>多个组件依赖同一状态(数据)</p><p>来自不同组件的行为需要变更同一状态(不同组件的操作都是改变同一状态)</p><p><strong>知识点补充：import无论在文件哪个位置下都会优先执行(类似变量提升)</strong>🚍🚍🚍🚍🚍🚍🚍</p><p><strong>知识点补充：新对象替换老对象，利用对象展开运算符🏎</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">当旧对象里面的key与新对象的key属性一样时，就会替换调</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">obj</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">oldObj</span><span class="token punctuation" style="color:#393A34">,</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">newObj</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><img loading="lazy" src="/sev/assets/images/24-6ef5b28bea0f9a5e355ea7d096f24ca2.png" width="637" height="501"></p><p><strong>缺点：如果您不打算开发大型单页应用，使用 Vuex 可能是繁琐冗余的。</strong></p><p><strong>mutations里的同步意义在于，每个mutation执行完毕之后，可以得到对应的状态，使用devtools(Vue扩展)可以跟踪状态的变化</strong></p><p>如果是异步的，就没法知道状态是什么时候更新的，才有了actions。</p><p>actions用来专门处理异步，里面触发mutations，就可以很清楚的看到mutation是何时被记录下来的，并且立即查看他们对应的状态。这样异步更新也可以清楚看到状态的流程。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="actiondispatch"><strong>Action	</strong>dispatch<a class="hash-link" href="#actiondispatch" title="Direct link to heading">​</a></h4><p><strong>Action可以是异步函数</strong></p><p><strong>Action 提交的是 mutation，而不是直接变更状态。</strong></p><p><strong>Action 函数接受一个与 store 实例具有相同方法和属性的 context 对象，因此你可以调用 <code>context.commit</code> 提交一个 mutation，</strong>或者通过 <code>context.state</code> 和 <code>context.getters</code> 来获取 state 和 getters。</p><p>接收一个或多个参数</p><p><strong>context 表示 mini版的 Store(拥有Store上的一些方法供actions的函数使用)</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">通过dispatch调用 actions 里的函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'actions 里的函数'</span><span class="token plain">，传递过去的一些业务数据</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">store文件下</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">actions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">increment</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'increment'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">//调用mutations的方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>使用 <strong><code>mapActions</code> 辅助函数</strong>将组件的 methods 映射为 <code>store.dispatch</code> 调用（<strong>需要先在根节点注入 <code>store</code></strong>）：</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="mutationscommit">Mutations	commit<a class="hash-link" href="#mutationscommit" title="Direct link to heading">​</a></h4><p><strong>mutation 必须是同步函数，mutation 的方法名建议使用全大写命名</strong>🚓</p><p>更改 Vuex 的 store 中的状态的<strong>唯一方法是提交 mutation</strong></p><p><strong>接受 state 作为第一个参数</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">通过commit调用 mutations 里的函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'increment'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">amount</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">或 对象风格</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'increment'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">amount</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">或</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'mutations 里的函数'</span><span class="token plain">，传递过去的一些业务数据</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">store文件下</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">mutations</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">increment</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> payload</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#999988;font-style:italic">//接受 state 作为第一个参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> payload</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">amount</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p> Vuex 的 <strong>store 中的状态是响应式的</strong>，那么当我们变更状态时，监视状态的 Vue 组件<strong>也会自动更新</strong>。这也意味着 Vuex 中的 mutation 也需要与使用 Vue 一样遵守一些注意事项：</p><ol><li>最好提前在你的 store 中<strong>初始化好所有所需属性</strong>。</li><li>当需要在对象上添加新属性时，你应该</li></ol><ul><li><p>使用 <code>Vue.set(obj, 'newProp', 123)</code>, 或者</p></li><li><p>以<strong>新对象替换老对象</strong>。例如，利用对象展开运算符 我们可以这样写：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">obj</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">obj</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">newProp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ul><p>可以在组件中使用 <code>this.$store.commit('xxx')</code> 提交 mutation，或者使用 <code>mapMutations</code> <strong>辅助函数</strong>将组件中的 methods 映射为 <code>store.commit</code> 调用（<strong>需要在根节点注入 <code>store</code></strong>）。</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="辅助函数vuex在组件中的简写方式"><strong>辅助函数(Vuex在组件中的简写方式)</strong><a class="hash-link" href="#辅助函数vuex在组件中的简写方式" title="Direct link to heading">​</a></h3><p><strong>import { mapXxx, mapXxx } from 'vuex'</strong></p><p><strong>mapState({别名:'接收的数据'  <em>注意需要添加引号接收</em>}) </strong></p><p><strong>可以使用数组或对象接收   ...mapXXX 扩展运算符语法添加</strong></p><p><strong>mapState和mapGetters在组件中都是写在computed里面</strong></p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;h2&gt;Home页面的数字：{{num}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;h2&gt;About页面的数字：{{getNum}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { mapState, mapGetters } from 'vuex'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  computed: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...mapState(['num'])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...mapGetters(['getNum'])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>mapMutations和mapActions在组件中都是写在methods里面</strong></p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;button @click="increase(2)"&gt;点击加1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;button @click="decreaseAsync()"&gt;点击延迟减1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { mapMutations, mapActions } from 'vuex'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  methods: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ...mapMutations(['increase']),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ...mapActions(['decreaseAsync'])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="getters-非必须的配置项"><strong>getters 非必须的配置项</strong><a class="hash-link" href="#getters-非必须的配置项" title="Direct link to heading">​</a></h4><p><strong>类似于Vue的计算属性computed</strong></p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">//将state数据加工，接受 state 作为第一个参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">getters: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        getNum(state) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return state.num</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>为什么都不在组件里面写业务逻辑函数，都在store里写业务逻辑函数？？？</strong></p><p><strong>提高复用</strong>，避免在每个组件中都写一套相同的业务逻辑代码</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="模块化">模块化<a class="hash-link" href="#模块化" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> moduleA </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">state</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">mutations</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">actions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">getters</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> moduleB </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">state</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">mutations</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">actions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> store </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Vuex</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Store</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">modules</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> moduleA</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">b</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> moduleB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">a</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// -&gt; moduleA 的状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">b</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// -&gt; moduleB 的状态</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token spread operator" style="color:#393A34">...</span><span class="token method function property-access" style="color:#d73a49">mapState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'a'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'x'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">'c'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">'v'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token spread operator" style="color:#393A34">...</span><span class="token method function property-access" style="color:#d73a49">mapState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'b'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'a'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">'s'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">'d'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h1><strong>router</strong></h1><p>Vue 的一个插件，<strong>专门用来实现 SPA 应用</strong></p><p>路由就是一组<strong>key(路径) - value(组件) 的应对关系</strong></p><p>多对路由需要一个路由器管理</p><p><strong>hash模式</strong>: url带一个#,  但是<strong>#和它后面的</strong>路径(值)<strong>不会包含在发送http请求中带给服务器</strong>,<strong>兼容性好</strong>,若以后将地址<strong>通过第三方手机app分享</strong>,<strong>若app校验严格,则地址会被标记为不合法</strong></p><p><strong>history模式</strong>(嘿斯特旅):url正常显示<strong>无#哈希值</strong>,<strong>兼容性略差</strong>,<strong>当页面刷新时会出现404页面,</strong>因为url的路径可能被当做资源去向后台请求数据了,后台也没有这些路径资源</p><p><img loading="lazy" src="/sev/assets/images/27-7087f43abe0c946f85dfc38d64c50233.png" width="655" height="321"></p><h5 class="anchor anchorWithStickyNavbar_mojV" id="对-spa-应用的理解"><strong>对 SPA 应用的理解：</strong><a class="hash-link" href="#对-spa-应用的理解" title="Direct link to heading">​</a></h5><p><strong>1、单页面 Web 应用</strong></p><p>2、整个应用<strong>只有一个完整的页面( index.html )</strong></p><p>3、点击页面中的导航链接<strong>不会刷新页面</strong>，<strong>只会做页面的局部更新</strong></p><p>4、数据需要 Ajax 请求获取</p><p>路由组件通常放到<strong>pages文件夹</strong>下，一般组件放<strong>components文件夹</strong>下</p><p>提供两个组件：<strong>router-link 、router-view</strong></p><p>router-link标签的属性 <strong>active-class(激活时添加class)、to(跳转的路径)、tag(渲染成什么标签)</strong>、<strong>replace(当点击时，会调用 <code>router.replace()</code> 而不是 <code>router.push()</code>，于是导航后不会留下 history 记录。)、name(如果 <code>&lt;router-view&gt;</code>设置了名称，则会渲染对应的路由配置中 <code>components</code> 下的相应组件)</strong></p><p>要注意，当 <code>&lt;router-link&gt;</code> 对应的路由匹配成功，将自动设置 class 属性值 <code>.router-link-active</code>。</p><p><strong>active-class</strong> : router-link的属性，当router-link的to属性路径被激活时，会往标签上添加一个class    ---    <strong><code>active-class="xxx"</code></strong>，默认值: <code>"router-link-active"</code></p><p><strong>注意：通过切换，“隐藏”来的路由组件，默认是被销毁的，需要的时候再去挂载</strong></p><p><strong>每个组件都有一个自身的$route,整个SPA都独有一个$router</strong></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="二级路由路由嵌套-children">二级路由(路由嵌套) children<a class="hash-link" href="#二级路由路由嵌套-children" title="Direct link to heading">​</a></h4><p><strong>注意点:路由规则 path不需再加  '/'  ，to 路径匹配需要加上父级路径</strong>🚗🚗🚗🚗🚗🚗🚗</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="动态路由匹配">动态路由匹配<a class="hash-link" href="#动态路由匹配" title="Direct link to heading">​</a></h4><p>把某种模式匹配到的所有路由，全都<strong>映射到同个组件</strong>。例如，我们有一个 <code>User</code> 组件，对于所有 <strong>ID 各不相同的用户</strong>，<strong>都要使用这个组件来渲染</strong>。那么，我们可以在 <code>vue-router</code> 的路由路径中使用“<strong>动态路径参数</strong>”(dynamic segment) 来达到这个效果：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">template</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'&lt;div&gt;User&lt;/div&gt;'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> router </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">VueRouter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">routes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 动态路径参数 以冒号开头</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">path</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/user/:id'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">component</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>现在呢，像 <code>/user/foo</code> 和 <code>/user/bar</code> 都将映射到相同的路由。</p><table><thead><tr><th>模式</th><th>匹配路径</th><th>$route.params</th></tr></thead><tbody><tr><td>/user/:username</td><td>/user/evan</td><td><code>{ username: 'evan' }</code></td></tr><tr><td>/user/:username/post/:post_id</td><td>/user/evan/post/123</td><td><code>{ username: 'evan', post_id: '123' }</code></td></tr></tbody></table><p><strong>注意：获取动态路径参数需要使用 $route.params 方式</strong></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="路由组件传参">路由组件传参<a class="hash-link" href="#路由组件传参" title="Direct link to heading">​</a></h4><p><strong>$route.query、$route.params</strong></p><p><strong><em>query方式</em></strong>：<strong>xxx.html?nnn&amp;mmm 或 对象形式{path:'',query:{id:''}}</strong> </p><p><strong>*params方式：***</strong>xxx.html/xx/nn/mmm 或 对象形式{name:'',params:{id:''}} 配置路由规则path:xxx.html/:id/:tit/:a**</p><p><strong>注意🚙:params方式使用对象形式传参时,不允许使用path传路劲,只能使用命名路由name!!!</strong></p><p>使用占位符 :xxx 的形式规则去获取params参数</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="命名路由">命名路由<a class="hash-link" href="#命名路由" title="Direct link to heading">​</a></h4><p><strong>可以简化一些比较长的路径</strong></p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">router-link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">:to</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{ name: </span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">user</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">User</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">router-link</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="props">props<a class="hash-link" href="#props" title="Direct link to heading">​</a></h4><p>使用 <code>props</code> 将组件和路由解耦：</p><p><strong>简化大量<code>$route</code> 获取参数的代码取代与 <code>$route</code> 的耦合</strong></p><p><strong>1.🪂对象方式:</strong>值为对象,key-value会以props的形式传给激活的组件</p><p>,组件接收数据与props传值一样</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">routes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">path</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/promotion/from-newsletter'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">component</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Promotion</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">props</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">xxx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">b</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">xxx </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">props</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'a'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">'b'</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>2.🚤布尔值方式:当<code>props:true</code></strong>时,会把<strong>所有的params的参数</strong>,以props的形式传给激活的组件	---	<strong>只适用于🚤params   🚤 query无效</strong></p><p><strong>3.🚅函数方式:</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">routes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">path</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/promotion/from-newsletter'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">component</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Promotion</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//回调函数形式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">props</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">$route</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> 或 解构赋值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">$route</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">$route</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">query</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ttle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//或 解构赋值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">props</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter">query</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ttle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="路由元信息">路由元信息<a class="hash-link" href="#路由元信息" title="Direct link to heading">​</a></h5><p><strong>注意:$route.meta,meta为路由元信息,开发者自定义的信息都会放到这</strong></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="spa的历史纪录进退">SPA的历史纪录(进退)<a class="hash-link" href="#spa的历史纪录进退" title="Direct link to heading">​</a></h4><p>默认push(  压栈 ):<strong>有前进后退功能</strong>(追加历史记录)</p><p>replace( 替换 ):<strong>无前进后退功能</strong>(替换<strong>当前</strong>历史记录)</p><p><strong>开启:给router-link添加replace属性</strong></p><p> <img loading="lazy" src="/sev/assets/images/25-375cdd1242b304cceb3e0236bd6b6115.png" width="186" height="247">  <img loading="lazy" src="/sev/assets/images/26-0b1ccfc1b1afcb2fff7c12028b8f6df2.png" width="175" height="199"></p><h1>缓存路由组件keep-alive(不被销毁)</h1><p><strong>属性 include="组件名"</strong> :缓存特定的组件,不设置会把它包含的所有组件都缓存      exlude</p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;transition&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;keep-alive include="组件名 或 ['组件名','组件名']"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;router-view&gt;&lt;/router-view&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/keep-alive&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/transition&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="新生命周期"><strong>新生命周期</strong><a class="hash-link" href="#新生命周期" title="Direct link to heading">​</a></h4><p>路由(keep-alive)独有的两个生命周期函数:</p><p><strong>activated(激活的)</strong></p><p><strong>deactivated (失活的或取消激活的)</strong></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="路由守卫"><strong>路由守卫</strong><a class="hash-link" href="#路由守卫" title="Direct link to heading">​</a></h2><p><strong>作用:对路由进行权限控制</strong></p><p><strong>分:全局路由   独享路由   组件内路由</strong></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="全局路由"><strong>全局路由</strong><a class="hash-link" href="#全局路由" title="Direct link to heading">​</a></h4><h4 class="anchor anchorWithStickyNavbar_mojV" id="全局前置路由守卫"><strong>全局前置路由守卫</strong><a class="hash-link" href="#全局前置路由守卫" title="Direct link to heading">​</a></h4><p><strong>beforEach  (保护路由的安全)(权限)**</strong></p><p><strong>登录用户个人中心或token等信息的验证</strong></p><p>注意:🚓每一次<strong>路由切换之前</strong>和<strong>初始化时</strong></p><p><strong><code>beforEach((to,from,next)=&gt;{})</code></strong></p><p><strong>to(去哪),from(来自哪),next(放行,是否允许切换),添加配置时往$route.meta添加,如标题...</strong></p><hr><p><strong>全局后置路由守卫</strong></p><p><strong>afterEach(对标题等信息的修改)</strong></p><p>注意:🚓每一次<strong>路由切换之后</strong>和<strong>初始化时</strong>,  无next</p><p><strong><code>beforEach((to,from)=&gt;{})</code></strong></p><hr><p><strong>独享路由守卫 唯有一个</strong></p><p><strong><code>beforEnter((to,from,next)=&gt;{})</code></strong></p><p><strong>单独对一个路由进行权限控制,可以和全局后置路由配合使用</strong></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">routes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">path</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/promotion/from-newsletter'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">component</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Promotion</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">props</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">xxx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">b</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">xxx </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">beforEnter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">to</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter keyword module" style="color:#00009f">from</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        对权限token等控制是否跳转</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="组件内路由"><strong>组件内路由</strong><a class="hash-link" href="#组件内路由" title="Direct link to heading">​</a></h4><p><strong>beforRouteEnter(to,from,🛴next) 通过路由规则(注意是通过,可能会出现一种情况是首次加载就展示组件,这时组件并不用通过),进入组件之前调用</strong></p><p><strong>beforRouteLeave(to,from,🛴next) 通过路由规则,离开组件之后调用</strong></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="生命周期总数11个">生命周期总数(11个)<a class="hash-link" href="#生命周期总数11个" title="Direct link to heading">​</a></h2><p><strong>beforCreate\created</strong></p><p><strong>beforMouted\mouted</strong></p><p><strong>beforupdate\updated</strong></p><p><strong>beforDesroy\destroy</strong></p><p><strong>另外三activated\deactivated		$nextTick</strong></p><p><img loading="lazy" src="/sev/assets/images/1-0dce2512bcc2bbb56b54545dce2a7420.jpg" width="1200" height="2881"></p><h6 class="anchor anchorWithStickyNavbar_mojV" id="history刷新404">history刷新404<a class="hash-link" href="#history刷新404" title="Direct link to heading">​</a></h6><p>Node专门解决history刷新出现404的npm包</p><p><a href="https://www.npmjs.com/package/connect-history-api-fallback" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/connect-history-api-fallback</a></p><p>安装:<strong><code>npm install --save connect-history-api-fallback</code></strong></p><p>在配置静态页面use(express,())前引入:</p><p>const history <strong>=</strong> require('connect-history-api-fallback');</p><p>使用:	app.use(history());</p>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[for Js]]></title>
        <id>/for Js</id>
        <link href="https://kiyan-a.github.io/sev/blog/for Js"/>
        <updated>2022-05-04T02:45:15.000Z</updated>
        <summary type="html"><![CDATA[JS 🐔🌉]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_mojV" id="js-">JS 🐔🌉<a class="hash-link" href="#js-" title="Direct link to heading">​</a></h2><h6 class="anchor anchorWithStickyNavbar_mojV" id="对象数组转对象">对象数组转对象<a class="hash-link" href="#对象数组转对象" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">modes</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">reduce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">total</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter">prop</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">total</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">prop</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">or</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">modes</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">reduce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">total</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter">prop</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">total</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">prop</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="getboundingclientrect">getBoundingClientRect<a class="hash-link" href="#getboundingclientrect" title="Direct link to heading">​</a></h6><p><strong><code>Element.getBoundingClientRect()</code></strong> 方法返回元素的大小及其相对于视口的位置</p><p>通过这个 API 去动态设置元素的布局( <strong>避免元素高度宽度的局限性</strong> )</p><ul><li><p>left（元素左侧相对于可视区左上角的距离）</p></li><li><p>right（元素右侧相对于可视区左上角的距离）</p></li><li><p>top（元素上边相对于可视区左上角的距离）</p></li><li><p>bottom（元素下边相对于可视区左上角的距离）</p></li><li><p>width（可视宽度）</p></li><li><p>height（可视高度）</p></li></ul><h6 class="anchor anchorWithStickyNavbar_mojV" id="移除对象属性获取对象部分属性-过滤对象属性">移除对象属性/获取对象部分属性 过滤对象属性<a class="hash-link" href="#移除对象属性获取对象部分属性-过滤对象属性" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">移除 x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> obj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">z</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">o</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">i</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">newObj </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> obj</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="变量数据兜底知根知底">变量数据兜底（知根知底）<a class="hash-link" href="#变量数据兜底知根知底" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">😐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> data </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getApiRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">😁 变量解构赋初始值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getApiRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="多值匹配将所有值放在数组中通过数组方法来简写">多值匹配，将所有值放在数组中，通过数组方法来简写<a class="hash-link" href="#多值匹配将所有值放在数组中通过数组方法来简写" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">😐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> value </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'one'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> value </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> value </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'two'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">😁 includes 方法去简化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'one'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'two'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">includes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="字符串转数字简化">字符串转数字（简化）<a class="hash-link" href="#字符串转数字简化" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">😐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> total </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">parseInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'453'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> average </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'42.6'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">😁</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> total </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">'453'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> average </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">'42.6'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="运算符代替mathfloor">（~~）运算符代替Math.floor()<a class="hash-link" href="#运算符代替mathfloor" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">😐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const floor = Math.floor(6.8);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">😁</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const floor = ~~6.8;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="单层对象深拷贝">单层对象深拷贝<a class="hash-link" href="#单层对象深拷贝" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> obj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">z</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> clone </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="使用-arrfilterboolean-过滤掉数组成员的虚假值">使用 arr.filter(Boolean) 过滤掉数组成员的虚假值<a class="hash-link" href="#使用-arrfilterboolean-过滤掉数组成员的虚假值" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">NaN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token punctuation" style="color:#393A34">,</span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> arr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'xyz'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">NaN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">ARR</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">arr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Boolean</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="三元运算符--or-----or---简化if-else">三元运算符  or  ||   or   &amp;&amp;简化if else<a class="hash-link" href="#三元运算符--or-----or---简化if-else" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">😐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> path </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> path </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">😁</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> path </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> path </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">其它：🐂</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">getTabList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token function" style="color:#d73a49">getFormList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> getTabList </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> getFormList</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="使用函数式编程">使用函数式编程<a class="hash-link" href="#使用函数式编程" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">😐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">List</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'AM'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">money</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'SF'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">money</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> total </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> xList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  total </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token maybe-class-name">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">money</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">😁</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> total </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">List</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">hero</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> hero</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">money</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">reduce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">moneys</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> money</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> moneys </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> money</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="提前return使代码更加简洁">提前return使代码更加简洁<a class="hash-link" href="#提前return使代码更加简洁" title="Direct link to heading">​</a></h6><p>对于不是主要核心代码 or 条件没有满足情况下，尽量提前 return</p><h6 class="anchor anchorWithStickyNavbar_mojV" id="减少-if-else-语句">减少 if else 语句<a class="hash-link" href="#减少-if-else-语句" title="Direct link to heading">​</a></h6><h6 class="anchor anchorWithStickyNavbar_mojV" id="通过find函数进行数组筛选符合条件的-----第一个值">通过<strong>find</strong>()函数进行数组筛选符合条件的  -&gt;  第一个值<a class="hash-link" href="#通过find函数进行数组筛选符合条件的-----第一个值" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> users </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">'张三'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">'李四'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">35</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">'王5'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> found </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> users</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">user</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// {name:'张三', age:30}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="通过some判断数组中是否有元素满足次条件every判断是否都满足返回值为-布尔值">通过<strong>some</strong>()判断数组中是否有元素满足次条件，<strong>every</strong>()判断是否都满足，返回值为 布尔值<a class="hash-link" href="#通过some判断数组中是否有元素满足次条件every判断是否都满足返回值为-布尔值" title="Direct link to heading">​</a></h6><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">users</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">user</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">users</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">every</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">user</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// false</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="运算"><code>??</code>运算<a class="hash-link" href="#运算" title="Direct link to heading">​</a></h6><p><code>??</code>运算符只有前面的值是<code>undefined</code> or <code>null</code>才会执行</p><h6 class="anchor anchorWithStickyNavbar_mojV" id="运算符"><code>?.</code>运算符<a class="hash-link" href="#运算符" title="Direct link to heading">​</a></h6><p><code>?.</code>运算符只有在当值(前面的值)不是<code>undefined</code>时才会执行</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> person </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">person</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">person</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token operator" style="color:#393A34">?.</span><span class="token method function property-access" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// undefined</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="运算符将任意值强制转换为其对应的布尔值"><code>!!</code>运算符将任意值强制转换为其对应的布尔值<a class="hash-link" href="#运算符将任意值强制转换为其对应的布尔值" title="Direct link to heading">​</a></h6><p>一次 ！转反布尔值，两次 ！ 就厉害了，将反布尔值转回来🐂</p>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[npm run serve 的旅途风景]]></title>
        <id>/npm run serve旅途风景</id>
        <link href="https://kiyan-a.github.io/sev/blog/npm run serve旅途风景"/>
        <updated>2022-05-04T02:45:15.000Z</updated>
        <summary type="html"><![CDATA[node_modules\@vue\cli-service🤖]]></summary>
        <content type="html"><![CDATA[<p><code>node_modules\@vue\cli-service</code>🤖</p><p><strong>npm run serve</strong>，其中这个serve的内容就是<code>vue-cli-service serve</code></p><p><code>"serve": "vue-cli-service serve"</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="vue-cli-servicejs">vue-cli-service.js<a class="hash-link" href="#vue-cli-servicejs" title="Direct link to heading">​</a></h3><p>npm 的语义版本器</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> semver </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'semver'</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>vue-cli 的共享工具</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'@vue/cli-shared-utils'</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> semver </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'semver'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> error </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'@vue/cli-shared-utils'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> requiredVersion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'../package.json'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">engines</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 检测node版本是否符合vue-cli运行的需求。不符合则打印错误并退出。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">semver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">satisfies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">version</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> requiredVersion</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">You are using Node </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">version</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">, but vue-cli-service </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">requires Node </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">requiredVersion</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">.\nPlease upgrade your Node version.</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>cli-service的核心类</p><p><code>node_modules\@vue\cli-service\lib\Service.js</code></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Service</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'../lib/Service'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 新建一个service的实例。并传入当前项目根路径。process.cwd()的结果一般是当前项目根路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> service </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Service</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">VUE_CLI_CONTEXT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cwd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>参数处理</p><p><code>"vue-cli-service serve"</code></p><p>解析参数选项 <code>require('minimist')</code></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> rawArgv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">argv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// [ 'serve' ]📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'minimist'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rawArgv</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">boolean</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// build</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'modern'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'report'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'report-json'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'watch'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// serve</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'open'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'copy'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'https'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// inspect</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'verbose'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*📝</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  _: [ 'serve' ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  modern: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  report: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  'report-json': false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  'inline-vue': false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  watch: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  open: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  copy: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  https: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  verbose: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> command </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">_</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// serve📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">argv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// ['node.exe 程序绝对路径','vue-cli-service.js 绝对路径'，'serve']📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">npm run serve https</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token comment" style="color:#999988;font-style:italic">// ['node.exe程序绝对路径','vue-cli-service.js绝对路径'，'serve'，'httpa']📝</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><code>service.run('serve',{...args},['serve','https',...])</code></p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 将参数传入service这个实例并启动后续工作。如果我们运行的是npm run serve。则command = "serve"。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rawArgv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>上面的代码最后调用 <code>node_modules\@vue\cli-service\lib\Service.js</code> 中的 <code>run</code> 来进行项目的构建📝</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="servicejs">Service.js<a class="hash-link" href="#servicejs" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// fs是filesystem的缩写，该模块提供本地文件的读写能力📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> fs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'fs'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// path模块是Node.js官方提供的、用来处理路径的模块📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'path'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// JavaScript 调试实用程序。适用于 Node.js 和 Web 浏览器📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> debug </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'debug'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 修饰输出控制台内容的文字样式📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chalk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'chalk'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 读取 package.json 文件📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> readPkg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'read-pkg'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 合并 webpack 配置,通常会把开发、生产文件分开配置,再进行与共同配置文件合并📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> merge </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'webpack-merge'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 详情见下文📌</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Config</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'webpack-chain'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 主要是连接 plugin 的注册和service实例📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">PluginAPI</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'./PluginAPI'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// .env文件中的配置📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> loadEnv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'./util/loadEnv'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// defaultsDeep()方法递归地分配`默认属性`📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> defaultsDeep </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'lodash.defaultsdeep'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Vue 的共享工具</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> warn</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> isPlugin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> loadModule </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'@vue/cli-shared-utils'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> defaults</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> validate </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'./options'</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Config</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'webpack-chain'</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>webpack 的核心配置的创建和修改基于一个有潜在难于处理的 JavaScript 对象。虽然这对于配置单个项目来说还是 OK 的，但当你尝试跨项目共享这些对象并使其进行后续的修改就会变的混乱不堪，因为您需要深入了解底层对象的结构以进行这些更改。</p><p><code>webpack-chain</code> 尝试通过提供可链式或顺流式的 API 创建和修改webpack 配置。API的 Key 部分可以由用户指定的名称引用，这有助于 跨项目修改配置方式 的标准化。📝</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="service-类核心代码">Service 类核心代码<a class="hash-link" href="#service-类核心代码" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Service</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">constructor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">context</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> plugins</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> pkg</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> inlineOptions</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> useBuiltIn </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter"> </span><span class="token parameter operator" style="color:#393A34">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 将实例化的对象存储到全局变量 process.VUE_CLI_SERVICE📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">VUE_CLI_SERVICE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">initialized</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 一般是当前项目根目录路径。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">inlineOptions</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> inlineOptions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// webpack相关收集。不是本文重点。所以未列出该方法实现</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">webpackChainFns</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">webpackRawConfigFns</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">devServerConfigFns</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//存储的命令,调用 run 时会传进来📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">commands</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Folder containing the target package.json for plugins</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">pkgContext</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 键值对存储的pakcage.json对象，不是本文重点。所以未列出该方法实现</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">pkg</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolvePkg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 这个方法下方需要重点阅读🧩</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">plugins</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolvePlugins</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">plugins</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> useBuiltIn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 结果为{build: production, serve: development, ... },大意是收集插件中的默认配置信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 标注build命令主要用于生产环境。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">modes</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">plugins</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">reduce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">modes</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> </span><span class="token parameter literal-property property" style="color:#36acaa">apply</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> defaultModes </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">modes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> defaultModes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">init</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">mode </span><span class="token parameter operator" style="color:#393A34">=</span><span class="token parameter"> process</span><span class="token parameter punctuation" style="color:#393A34">.</span><span class="token parameter property-access">env</span><span class="token parameter punctuation" style="color:#393A34">.</span><span class="token parameter constant" style="color:#36acaa">VUE_CLI_MODE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 是否初始化📝</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">initialized</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">initialized</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">mode</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 加载.env文件中的配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">loadEnv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// load base .env</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">loadEnv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取用户的配置信息.一般为vue.config.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> userOptions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">loadUserOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 读取项目的配置信息并与用户的配置合并(用户的优先级高📌)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">projectOptions</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defaultsDeep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userOptions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">debug</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'vue:project-config'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">projectOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 注册插件🧩</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">plugins</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> id</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> apply </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PluginAPI</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">projectOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// wepback相关配置收集</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">projectOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chainWebpack</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">webpackChainFns</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">projectOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chainWebpack</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">projectOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">configureWebpack</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">webpackRawConfigFns</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">projectOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">configureWebpack</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2022</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">03</span><span class="token plain"> 未读</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">resolvePlugins</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">inlinePlugins</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> useBuiltIn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">idToPlugin</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter">id</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">^.\/</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'built-in:'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">apply</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 主要是这里。map得到的每个插件都是一个{id, apply的形式}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 其中require(id)将直接import每个插件的默认导出。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 每个插件的导出api为</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// module.exports = (PluginAPIInstance,projectOptions) =&gt; {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//    PluginAPIInstance.registerCommand('cmdName（例如npm run serve中的serve）', args =&gt; {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//        // 根据命令行收到的参数，执行该插件的业务逻辑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//    })</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//    //  业务逻辑需要的其他函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 注意这里是先在构造函数中resolve了插件。然后再run-&gt;init-&gt;方法中将命令，通过这里的的apply方法，</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 将插件对应的命令注册到了service实例。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> builtInPlugins </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'./commands/serve'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'./commands/build'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'./commands/inspect'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'./commands/help'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// config plugins are order sensitive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'./config/base'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'./config/css'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'./config/dev'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'./config/prod'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'./config/app'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">idToPlugin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// inlinePlugins与非inline得处理。默认生成的项目直接运行时候，除了上述数组的插件['./commands/serve'...]外，还会有</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ['@vue/cli-plugin-babel','@vue/cli-plugin-eslint','@vue/cli-service']。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 处理结果是两者的合并，细节省略。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inlinePlugins</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//...默认走这条路线</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      plugins </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> builtInPlugins</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">concat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">projectPlugins</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Local plugins 处理package.json中引入插件的形式，具体代码省略。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">run</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> args </span><span class="token parameter operator" style="color:#393A34">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> rawArgv </span><span class="token parameter operator" style="color:#393A34">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// mode是dev还是prod？</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> mode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">mode</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'build'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">watch</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'development'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">modes</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 收集环境变量、插件、用户配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">_</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">_</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> command </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">commands</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">command </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">command "</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">" does not exist.</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">command </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">help</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      command </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">commands</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">help</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">shift</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// remove command itself</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      rawArgv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">shift</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 执行命令。例如vue-cli-service serve 则，执行serve命令。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> fn </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rawArgv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 收集vue.config.js中的用户配置。并以对象形式返回。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">loadUserOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 此处代码省略，可以简单理解为</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// require(vue.config.js)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> resolved</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>service 实例化后📌：</strong></p><p><img src="https://raw.githubusercontent.com/Kiyan-a/For_picGo/img/202205032235623.png"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="corejs"><strong>core.js</strong><a class="hash-link" href="#corejs" title="Direct link to heading">​</a></h4><p>1.core-js 它是JavaScript标准库的 polyfill（垫片/补丁）, 新功能的es'api'转换为大部分现代浏览器都可以支持
运行的一个'api' 补丁包集合。让我们在不兼容某些新特性的浏览器上，使用该新特性。
2.因为官方库对他介绍的形容
2.1.它支持最新的 ECMAScript 标准
2.2.它支持ECMAScript 标准库提案
2.3.它支持一些 WHATWG / W3C 标准（跨平台或者 ECMAScript 相关）
2.4.它最大限度的模块化：你能仅仅加载你想要使用的功能
2.5.它能够不污染全局命名空间
2.6.它和babel紧密集成：这能够优化core-js的导入
2.7.它是最普遍、最流行 的给 JavaScript 标准库打补丁的方式</p><p><img src="https://raw.githubusercontent.com/Kiyan-a/For_picGo/img/202205032111820.png"></p>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[tab-u 组件]]></title>
        <id>/tab-u组件</id>
        <link href="https://kiyan-a.github.io/sev/blog/tab-u组件"/>
        <updated>2022-05-04T02:45:15.000Z</updated>
        <summary type="html"><![CDATA[在后台管理系统开发中，接触最多的组件就是表格组件，tab-u 是基于Element Table重新封装的一套表格组件]]></summary>
        <content type="html"><![CDATA[<p>在后台管理系统开发中，接触最多的组件就是<code>表格组件</code>，tab-u 是基于<code>Element Table</code>重新封装的一套表格组件</p><p><img loading="lazy" src="/sev/assets/images/1-b9bfc1bba3725fa8723b6345caa3c16d.png" width="1920" height="892"></p><h5 class="anchor anchorWithStickyNavbar_mojV" id="安装">安装：<a class="hash-link" href="#安装" title="Direct link to heading">​</a></h5><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i tab-u</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="使用">使用：<a class="hash-link" href="#使用" title="Direct link to heading">​</a></h5><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 在 main.js 下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* 最不完美的地方🤨 全局引入 ElementUI 后续会进行优化 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">ElementUI</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'element-ui'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'element-ui/lib/theme-chalk/index.css'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Vue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">ElementUI</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* 引入 tab-u 组件与样式 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">TablePage</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'tab-u'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'tab-u/styles/TablePage-ui.css'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Vue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">TablePage</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th align="center">属性</th><th align="center">说明</th><th align="center">类型</th><th align="center">默认值</th></tr></thead><tbody><tr><td align="center">getListData</td><td align="center">用于获取数据，需要返回一个 Promise 对象</td><td align="center">Function</td><td align="center">-</td></tr><tr><td align="center">searchConfig</td><td align="center">搜索栏的字段配置,默认不展示搜索栏</td><td align="center">[Object,Boolean]</td><td align="center">false</td></tr><tr><td align="center">searchConfig.inline</td><td align="center">是否在查询重置后面追加按钮</td><td align="center">Boolean</td><td align="center">false</td></tr><tr><td align="center">searchConfig.columns</td><td align="center">搜索栏显示字段的配置</td><td align="center">Array</td><td align="center">-</td></tr><tr><td align="center">columns</td><td align="center">表格字段的配置</td><td align="center">Array</td><td align="center">[]</td></tr><tr><td align="center">columns:<!-- -->[{},{},...]</td><td align="center">字段的详细配置( 继承 Element <a href="https://element.eleme.cn/#/zh-CN/component/table#table-column-attributes" target="_blank" rel="noopener noreferrer">¶</a>Table-column 属性 )</td><td align="center">Object</td><td align="center">-</td></tr><tr><td align="center">fieldKey</td><td align="center">表格字段展示配置的保存(需要唯一值)</td><td align="center">String</td><td align="center">’‘</td></tr><tr><td align="center">isSelection</td><td align="center">是否展示多选框</td><td align="center">Boolean</td><td align="center">false</td></tr><tr><td align="center">.....</td><td align="center">其它属性继承了 Element Table Attributes</td><td align="center"></td><td align="center"></td></tr></tbody></table><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TablePage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :getListData="getListData"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :searchConfig="searchConfig"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :columns="columns"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fieldKey="only - b"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;template #search-user="{ formModel, formItem }"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;el-input-number v-model="formModel[formItem]"&gt;&lt;/el-input-number&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;template #search-status="{ formModel, formItem }"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;el-date-picker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          v-model="formModel[formItem]"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          type="datetimerange"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          range-separator="至"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          start-placeholder="开始日期"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          end-placeholder="结束日期"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          align="right"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/el-date-picker&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;template #table-operate="{table}"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;el-button type="primary" size="mini" @click="getData(table)"&gt;编辑&lt;/el-button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;el-button type="warning" size="mini"&gt;删除&lt;/el-button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &lt;/TablePage&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>插槽：用于更换默认展示的搜索栏、表格内容</strong>😁</p><table><thead><tr><th align="center">name</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">#search-<!-- -->[搜索栏配置的 prop 值]<!-- -->="{ formModel, formItem }"</td><td align="center">&lt;template #search-city&gt;</td></tr><tr><td align="center">#search-buttons="{ formModel, formItem }"</td><td align="center">在查询重置按钮后面添加的按钮插槽</td></tr><tr><td align="center">#table-<!-- -->[表格配置的 prop 值]<!-- -->="{ table }"</td><td align="center">用于替换表格的默认展示内容，table 为解构赋值后的表格数据，table.row 为当前行数据</td></tr></tbody></table><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// components: { searchView, tableView, TablePage },</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">components</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">TablePage</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">searchConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">inline</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">columns</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">label</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'姓名'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">prop</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'name'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">label</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'年龄'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">prop</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'age'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">label</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'城市'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">prop</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'city'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">tableData</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'余霞'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'73'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">hobby</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'本观六去半'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">city</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'新疆维吾尔自治区 巴音郭楞蒙古自治州'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">phone</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'18149951368'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">email</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'a.hnvlnmw@avhydowwk.cd'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'乔强'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'94'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">hobby</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'心众山资引给'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">city</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'江西省 上饶市'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">phone</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'19812648578'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">email</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'f.ctpyufuk@lxbflzejj.sg'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'曾丽'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'30'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">hobby</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'原起各传收了'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">city</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'上海 上海市'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">phone</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'18676572557'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">email</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'r.rdhuekkryc@jwvleuhug.za'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'顾伟'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'92'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">hobby</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'程参决'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">city</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'天津 天津市'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">phone</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'18696661826'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">email</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'k.dapvoy@xngfex.edu'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">columns</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">label</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'姓名'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">prop</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'name'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">align</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'center'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">label</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'城市'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">prop</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'city'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">align</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'center'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">label</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'邮箱'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">prop</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'email'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">align</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'left'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">width</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">methods</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">getData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">table</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">table</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/** 此处代码自行去体会优化</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * @method: 获取数据 --- tab-u 属性 getListData 的值</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * @param: { Object } query ...搜索的值,页码，页条数</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * @return: { Promise }</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">getListData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">query</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tableData</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> item </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> query</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'pageNum'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'pageSize'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">includes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tableData</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">i</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">includes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> pageNum</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pageSize </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> query</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//传递的数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">list</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pageNum </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> pageSize</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          pageSize </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pageNum </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> pageSize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//数据的总数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">total</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><img loading="lazy" src="/sev/assets/images/1-23b853a98fc66b32eef10f4121185ee5.gif" width="1830" height="875"></p>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[vue-jsonp]]></title>
        <id>/vue-jsonp</id>
        <link href="https://kiyan-a.github.io/sev/blog/vue-jsonp"/>
        <updated>2022-05-04T02:45:15.000Z</updated>
        <summary type="html"><![CDATA[在 vue 中使用 vue-jsonp (jsonp跨域)]]></summary>
        <content type="html"><![CDATA[<p>在 vue 中使用 vue-jsonp (jsonp跨域) </p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> vue-jsonp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>局部引入：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> jsonp </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'vue-jsonp'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">created</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">jsonp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     'https</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">news</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sina</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">cn</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">project</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">fymap</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">ncp2020_full_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">json</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">参数</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token literal-property property" style="color:#36acaa">callback</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">'jsoncallback'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token comment" style="color:#999988;font-style:italic">//值需要与window.jsoncallback一样</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 处不会读取到数据，数据在 window.jsoncallback 中读取</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">mounted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">jsoncallback</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter">data</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[w-edit-u 组件]]></title>
        <id>/w-edit-u 组件</id>
        <link href="https://kiyan-a.github.io/sev/blog/w-edit-u 组件"/>
        <updated>2022-05-04T02:45:15.000Z</updated>
        <summary type="html"><![CDATA[w-edit-u 是基于Element与WangEditor v4进行扩展的一个富文本编辑器组件]]></summary>
        <content type="html"><![CDATA[<p>w-edit-u 是基于<code>Element</code>与<code>WangEditor v4</code>进行扩展的一个富文本编辑器组件</p><p>用户可以通过点击秀米菜单功能按钮或135菜单功能按钮进入到秀米或135的公众号编辑器进行编辑再导入到自己的编辑器中</p><p><img loading="lazy" src="/sev/assets/images/w-2ae370fc37a1ba48ac94f3a1665124d2.png" width="1920" height="892"></p><p><img loading="lazy" src="/sev/assets/images/w1-f554198db76f86e79f93ffc60e8c49b7.png" width="1920" height="892"></p><p><img loading="lazy" src="/sev/assets/images/w2-a149a9eb4dcda1a1e767c0f082cb0c2d.png" width="1920" height="892"></p><h5 class="anchor anchorWithStickyNavbar_mojV" id="安装">安装：<a class="hash-link" href="#安装" title="Direct link to heading">​</a></h5><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i w-edit-u</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="使用">使用：<a class="hash-link" href="#使用" title="Direct link to heading">​</a></h5><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 在 main.js 下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">ElementUI</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'element-ui'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'element-ui/lib/theme-chalk/index.css'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">wEdit</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'w-edit-u'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'w-edit-u/styles/w-edit.css'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Vue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">ElementUI</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Vue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">wEdit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th align="center">属性</th><th align="center">说明</th><th align="center">类型</th><th align="center">默认值</th></tr></thead><tbody><tr><td align="center">value</td><td align="center">编辑器数据</td><td align="center">String</td><td align="center">-</td></tr><tr><td align="center">isDisable</td><td align="center">禁用编辑器</td><td align="center">Boolean</td><td align="center">false</td></tr><tr><td align="center">height</td><td align="center">编辑器高度</td><td align="center">Number</td><td align="center">550</td></tr></tbody></table><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">wEdit</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">:value.sync</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">value</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">:height</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">height</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">:isDisable</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">isDisable</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">height</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">isDisable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><img loading="lazy" src="/sev/assets/images/w-86477eaa0c9c9933fa1091202a386a42.gif" width="1827" height="875"></p>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[自动按需引入组件]]></title>
        <id>/自动按需导入组件</id>
        <link href="https://kiyan-a.github.io/sev/blog/自动按需导入组件"/>
        <updated>2022-05-04T02:45:15.000Z</updated>
        <summary type="html"><![CDATA[前言：使用unplugin-vue-components后，可以实现按需引入，而且也不用再使用import引入需要的组件，直接使用``等组件就可以。]]></summary>
        <content type="html"><![CDATA[<p>前言：使用<code>unplugin-vue-components</code>后，可以实现按需引入，而且也不用再使用<code>import</code>引入需要的组件，直接使用<code>&lt;el-button&gt;</code>等组件就可以。</p><p>支持的组件库：</p><ul><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/antdv.ts" target="_blank" rel="noopener noreferrer">Ant Design Vue</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/arco.ts" target="_blank" rel="noopener noreferrer">Arco Design Vue</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/element-plus.ts" target="_blank" rel="noopener noreferrer">Element Plus</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/element-ui.ts" target="_blank" rel="noopener noreferrer">Element UI</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/headless-ui.ts" target="_blank" rel="noopener noreferrer">Headless UI</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/idux.ts" target="_blank" rel="noopener noreferrer">IDux</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/inkline.ts" target="_blank" rel="noopener noreferrer">Inkline</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/naive-ui.ts" target="_blank" rel="noopener noreferrer">Naive UI</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/prime-vue.ts" target="_blank" rel="noopener noreferrer">Prime Vue</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/vant.ts" target="_blank" rel="noopener noreferrer">Vant</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/veui.ts" target="_blank" rel="noopener noreferrer">VEUI</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/varlet-ui.ts" target="_blank" rel="noopener noreferrer">Varlet UI</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/view-ui.ts" target="_blank" rel="noopener noreferrer">View UI</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/vuetify.ts" target="_blank" rel="noopener noreferrer">Vuetify</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/vueuse.ts" target="_blank" rel="noopener noreferrer">VueUse Components</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/quasar.ts" target="_blank" rel="noopener noreferrer">Quasar</a></li><li><a href="https://github.com/antfu/unplugin-vue-components/blob/main/src/core/resolvers/tdesign.ts" target="_blank" rel="noopener noreferrer">TDesign</a></li></ul><p>1、安装npm包</p><div class="codeBlockContainer_I0IT language-ABAP theme-code-block"><div class="codeBlockContent_wNvx ABAP"><pre tabindex="0" class="prism-code language-ABAP codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">npm install unplugin-vue-components unplugin-auto-import -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>2、配置</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">AutoImport</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'unplugin-auto-import/webpack'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Components</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'unplugin-vue-components/webpack'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">ElementUiResolver</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'unplugin-vue-components/resolvers'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">configureWebpack</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:#d73a49">AutoImport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">resolvers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token function maybe-class-name" style="color:#d73a49">ElementUiResolver</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:#d73a49">Components</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">resolvers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token function maybe-class-name" style="color:#d73a49">ElementUiResolver</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>3、具体使用</p><div class="codeBlockContainer_I0IT language-vue theme-code-block"><div class="codeBlockContent_wNvx vue"><pre tabindex="0" class="prism-code language-vue codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;el-button&gt;按钮&lt;/el-button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>4、确认是否按需引入</p><p>首先，安装<code>webpack-bundle-analyzer</code>插件，</p><div class="codeBlockContainer_I0IT language-ABAP theme-code-block"><div class="codeBlockContent_wNvx ABAP"><pre tabindex="0" class="prism-code language-ABAP codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">npm install  webpack-bundle-analyzer -D</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>然后执行以下命令：</p><div class="codeBlockContainer_I0IT language-ABAP theme-code-block"><div class="codeBlockContent_wNvx ABAP"><pre tabindex="0" class="prism-code language-ABAP codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">npm run build --report</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>不用做任何配置，就可以看到终端打印出来打包后各文件大小。</p><p>如果想看详细的打包后文件的信息，可以在<code>vue.config.js</code>中做如下配置：</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">BundleAnalyzerPlugin</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'webpack-bundle-analyzer'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">BundleAnalyzerPlugin</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">configureWebpack</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BundleAnalyzerPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>完整引入时，打包后<code>chunk.js</code>文件大小为<code>400k</code>左右。按需引入后，打包后<code>chunk.js</code>文件大小为<code>200k</code>左右。</p><p>5、非 <strong>template</strong> 中使用组件</p><p>如果在ts文件中使用<code>ELMessage</code>等组件，仍需要手动引入，代码如下。</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx js"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ElMessage</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'element-plus'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'element-plus/theme-chalk/el-message.css'</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div>]]></content>
    </entry>
</feed>